<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>1544c882fa0449c39bd0dbf2acba7c1c</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section id="how-to-win-the-english-premier-league-a-final-tutorial"
class="cell markdown" id="EYaKftyZEarf">
<h1>How To Win The English Premier League: A Final Tutorial</h1>
<p>Jaehong Kim, Abdullah Alkhaloufalabdalhmid, Andrew Parker</p>
<p>8/20/23</p>
<p><em>Note: All Images used are Copyright Free Stock Images</em></p>
</section>
<div class="cell markdown" id="NdEGyxFg8vbz">
<p><a
href="https://drive.google.com/file/d/1a6u0qxuzlF9O_3ILZvNabJPt2nVHZj7_/view?usp=drive_link"
class="uri">https://drive.google.com/file/d/1a6u0qxuzlF9O_3ILZvNabJPt2nVHZj7_/view?usp=drive_link</a>
<embed
src="vertopal_454c29ac402f4845b8cd84663e0edada/623063312817410c0a0a5f0e3a63896f024bfad3.shtml" /></p>
</div>
<section id="github-repository" class="cell markdown" id="rVXEi8vEM88a">
<h2>Github Repository</h2>
<p>Github repository can be found here: Jaehong Kim - <a
href="https://github.com/J-Gim/J-Gim.github.io"
class="uri">https://github.com/J-Gim/J-Gim.github.io</a></p>
</section>
<section id="table-of-contents" class="cell markdown" id="gmT2aku2TQfq">
<h2>Table of Contents:</h2>
<p><em>links to understand each step of the <a
href="https://learn.theprogrammingfoundation.org/getting_started/intro_data_science/module2">Data
Analysis Process</a></em></p>
<ol>
<li>Introduction</li>
<li><a
href="https://www.simplilearn.com/what-is-data-collection-article">Data
Collection</a></li>
<li><a
href="https://www.talend.com/resources/what-is-data-processing">Data
Processing</a></li>
<li><a
href="https://businessanalyst.techcanvass.com/exploratory-data-analysis-using-data-visualization-techniques">Exploratory
Analysis &amp; Data Visualization</a></li>
<li><a
href="https://towardsdatascience.com/hypothesis-testing-in-machine-learning-using-python-a0dc89e169ce">Model:
Analysis, Hypothesis Testing, &amp; ML</a></li>
<li><a
href="https://www.bi.team/publications/using-data-science-in-policy/">Interpretation:
Insight &amp; Policy Decision</a></li>
</ol>
</section>
<section id="introduction" class="cell markdown" id="xgNvOMAXXwzt">
<h2>Introduction</h2>
<p>The English Premier League (EPL), one of the largest leagues in the
world, draws millions of fans each year. These fans come to see up to 20
qualifying clubs compete against eachother in a bid to win the Premier
League Trophy and the millions of dollars that come in reward money.
However, behind the flashing lights and breathtaking penalties,
data-analytics play an important role.</p>
<p><a
href="https://drive.google.com/file/d/1VpRWhx_HqZLo5gtgNJa6OEL_ywdfxbB8/view?usp=drive_link"
class="uri">https://drive.google.com/file/d/1VpRWhx_HqZLo5gtgNJa6OEL_ywdfxbB8/view?usp=drive_link</a>
<embed
src="vertopal_454c29ac402f4845b8cd84663e0edada/c295bcf8856e302c82c3559aac89a1efe384f8a2.shtml" /></p>
<p>Data analytics gives Premier clubs strategic insights into their own
operations. By understanding strengths and weaknesses in a club's
operations, one can target these characteristics and make the neccesary
changes to create a stronger/better club. When millions and millions of
dollars are on the line, we can see why Data Science is so crucial!</p>
<p>On pitch analytics include things like optimizing team performance,
monitoring player health, and tactical player deployments on pitch.
These respective changes can come about by measuring data such as a
team's goal scoring rate, shots on target, a player's heart beat rates,
and statistics related to a player's aerobic endurance.</p>
<p>Off the pitch, data analysis helps clubs maintain their financial
affairs. As stated before, sports teams are ultimately businesses at
their heart and clubs in the EPL are no different! Statistical data
allows us to make important financial/managerial decisions such as
player trades, merchandise marketing, and stadium
location/liscesing.</p>
<p>For broadcasters and advertisers, understanding fan engagement and
other viewership trends can allow for more efficient content strategies
and marketing campaigns.</p>
<p>These decisions all play a role in ensuring that a club can get
maximum value for their investments and remain above water as a
profitable business. Going underwater financially could not only mean
being relegated to a lower league, but also in the complete liquidation
of the club! To fans and owners alike, this is an absolute nightmare but
without sufficient statistical forecasting, could easily become a
reality.</p>
<p><a
href="https://drive.google.com/file/d/1rNwjT1xFIWepQeZwFHdkXM3Cv6I5BTHo/view?usp=drive_link"
class="uri">https://drive.google.com/file/d/1rNwjT1xFIWepQeZwFHdkXM3Cv6I5BTHo/view?usp=drive_link</a>
<embed
src="vertopal_454c29ac402f4845b8cd84663e0edada/be780ca8d6d124397a328559aeab6dccceceda9d.shtml" /></p>
<p>Lastly, it is important to note that the Premier League operates by a
point system. The winner of the Premier League for each season is
decided by the team that accumulates the most points by the end of the
season. Points are awarded to a team as follows:</p>
<p>==&gt; 3 points for a win.</p>
<p>==&gt; 1 point for a draw</p>
<p>==&gt; no points for a loss.</p>
<p>Each team will play 38 matches by the end of each season, and the 3
teams with the lowest amount of points (bottom 3 on the scoreboard),
will be relegated to the Championship League (and likewise replaced by
the top 3 teams of the Championship League).</p>
<p>Thus, we can see that while remaining in the Premier League can be
lucrative it is not easy. One must keep a club financially stable and
efficient enough to remain above the bottom 3 rankings of the EPL. To
acheive this, proper data analytics (by going through the stages of data
collection, proccessing, hypothesis testing, and interpretation) is
crucial.</p>
<p><a
href="https://drive.google.com/file/d/1qW6Aq4znZ1rsaD922YRieDpoew8xOdgk/view?usp=drive_link"
class="uri">https://drive.google.com/file/d/1qW6Aq4znZ1rsaD922YRieDpoew8xOdgk/view?usp=drive_link</a>
<embed
src="vertopal_454c29ac402f4845b8cd84663e0edada/2bb9e3d0712e076b5a8b3592b385da8e837d992d.shtml" /></p>
<p>Further information about the Premier League can be found below:</p>
<p><a href="https://www.premierleague.com/stats"
class="uri">https://www.premierleague.com/stats</a> ==&gt; The Official
Premier League Website with Statistical Data and other information</p>
<p><a href="https://fbref.com/en/comps/9/Premier-League-Stats"
class="uri">https://fbref.com/en/comps/9/Premier-League-Stats</a> ==&gt;
fbref which holds Premier League Statistics focusing on player stats</p>
<p><a href="https://footystats.org/england/premier-league"
class="uri">https://footystats.org/england/premier-league</a> ==&gt;
FootyStats provides prepackaged csv data for different seasons with a
wide array of data (provided you have a subscription 😀).</p>
</section>
<section id="purpose-of-this-tutorial" class="cell markdown"
id="34ArmXyAtkgl">
<h3>Purpose Of This Tutorial</h3>
<p>For our purposes, we are interested in on-pitch data. More
specifically,</p>
<p>What On-Pitch factors appear to have an impact on a teams chance of
winning a Premier League Season (i.e. accumulating the most points in a
given season)?</p>
<p>On-Pitch Factors that will be considered in this tutorial
include:</p>
<p>==&gt; Goals Scored</p>
<p>==&gt; Goals Conceded</p>
<p>==&gt; Goals Difference (Scored - Conceded) per game</p>
<p>==&gt; Total shots</p>
<p>==&gt; Total shots on target</p>
<p>==&gt; Percent Shots Scored (goals / total shots)</p>
<p>==&gt; Fouls Committed</p>
<p>==&gt; Yellow Cards</p>
<p>==&gt; Red Cards</p>
<p>==&gt; Corners</p>
<p><a
href="https://drive.google.com/file/d/1RMyXztpCIyqNqzb0pIHCcCvq_aMwhB0t/view?usp=drive_link"
class="uri">https://drive.google.com/file/d/1RMyXztpCIyqNqzb0pIHCcCvq_aMwhB0t/view?usp=drive_link</a>
<embed
src="vertopal_454c29ac402f4845b8cd84663e0edada/f72fbaf1734915ff942fa627f960e82eab70589e.shtml" /></p>
<p>Off-Pitch factors that were not looked at but could be used for a
more comprehensive analysis include:</p>
<p>==&gt; Annual Fan Attendence</p>
<p>==&gt; Team Value</p>
<p>==&gt; Stadium Revenue</p>
<p><a
href="https://drive.google.com/file/d/1MDONFkPlRpknWCsU1q-E30eGm-Fr-SW6/view?usp=drive_link"
class="uri">https://drive.google.com/file/d/1MDONFkPlRpknWCsU1q-E30eGm-Fr-SW6/view?usp=drive_link</a>
<embed
src="vertopal_454c29ac402f4845b8cd84663e0edada/c7db15fd4369d30b61f33cd6c1b2562ef7ba0807.shtml" /></p>
<p>This tutorial will follow the typical '<a
href="https://learn.theprogrammingfoundation.org/getting_started/intro_data_science/module2">Data
Science Lifecycle</a>' as listed in the table of contents:</p>
<ol>
<li><a
href="https://www.simplilearn.com/what-is-data-collection-article">Data
Collection</a></li>
<li><a
href="https://www.talend.com/resources/what-is-data-processing">Data
Processing</a></li>
<li><a
href="https://businessanalyst.techcanvass.com/exploratory-data-analysis-using-data-visualization-techniques">Exploratory
Analysis &amp; Data Visualization</a></li>
<li><a
href="https://towardsdatascience.com/hypothesis-testing-in-machine-learning-using-python-a0dc89e169ce">Model:
Analysis, Hypothesis Testing, &amp; ML</a></li>
<li><a
href="https://www.bi.team/publications/using-data-science-in-policy/">Interpretation:
Insight &amp; Policy Decision</a></li>
</ol>
</section>
<section id="glossary" class="cell markdown" id="b1yqVUZjmB6B">
<h3>Glossary</h3>
<p>This glossary will define all column labels in case of
ambiguity/confusion:</p>
<p>Team --&gt; Name of club for a given row</p>
<p>Season_End_Year --&gt; The ending year of a season (i.e. for the
2010-2011 season 'Season_End_Year' would be 2011)</p>
<p>Rk --&gt; The Rank/position of the team in the league based on its
accumulated points</p>
<p>MP --&gt; Matches the team has played during the season or
tournament.</p>
<p>W --&gt; The number of games the team has won.</p>
<p>D --&gt; The number of games that ended in a tie or draw.</p>
<p>L --&gt; The number of games the team has lost.</p>
<p>GF --&gt; The total number of goals the team has scored.</p>
<p>GA --&gt; The total number of goals the team has conceded or let
in.</p>
<p>GD --&gt; Calculated as GF - GA. Indicates the difference between the
number of goals scored and the number of goals conceded.</p>
<p>Pts --&gt; The accumulated points for a given team in a given season
(a team gets 3 points for a win, 1 point for a draw, and no points for a
loss.)</p>
<p>M#GoalsScored --&gt; The number of goals a team has scored in Match #
of a given Season</p>
<p>M#GoalsConceded --&gt; The number of goals a team has conceded in
Match # of a given Season</p>
<p>M#Shots --&gt; The number of attempts on goal (regardless of whether
it resulted in a goal or not) for a given team in Match # of a given
Season</p>
<p>M#ShotsOnTarget --&gt; The number of shots that entered the goal or
would have entered the goal (if they had not been blocked) for a given
team in Match # of a given Season</p>
<p>CornerKicks --&gt; The number of corner kicks for a given team and
season</p>
<p>Fouls --&gt; The number of fouls in a season for a given team
(includes red and yellow cards as well as minor offences)</p>
<p>YellowCard --&gt; The number of yellow cards in a season for a given
team (awarded for "unsportsmanlike" tackles)</p>
<p>RedCard --&gt; The number of red cards in a season for a given team
(awarded for "dangerous offences" and assault)</p>
<p>TotalShots --&gt; Total shots taken in direction of the goal (but not
neccesarily on track to enter the goal) for a given team and season</p>
<p>TotalShotsOnTarget --&gt; Total shots taken that were on track to be
a goal (includes shots that were either blocked or went in) for a given
team and season</p>
<p>PercentShotsScored --&gt; Percent of shots taken that resulted in a
goal for a given team and season.</p>
<p><a
href="https://drive.google.com/file/d/1y5HBTFcnIvo5VSBpRMaWyx0JNjjnBaGA/view?usp=drive_link"
class="uri">https://drive.google.com/file/d/1y5HBTFcnIvo5VSBpRMaWyx0JNjjnBaGA/view?usp=drive_link</a>
<embed
src="vertopal_454c29ac402f4845b8cd84663e0edada/eb7cbf55dc6405980cd1011eda43f7ad4fe28507.shtml" /></p>
</section>
<section id="imports" class="cell markdown" id="zoBTu07l2rG3">
<h3>Imports</h3>
</section>
<div class="cell code" id="1l-XIHsz2tGi">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#defines the import packages that will be used in this tutorial</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> google.colab <span class="im">import</span> drive <span class="co"># imports the drive module from Google Colab, allowing us to access and mount Google Drive files within the Colab environment</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt <span class="co"># imports the pyplot module from matplotlib in order to plot various charts</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np <span class="co"># Imports numpy, a library used for numerical operations and working with arrays.</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd <span class="co"># Imports pandas, a powerful data manipulation and analysis library.</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.formula.api <span class="co"># provides functions to create statistical models and conduct hypothesis tests using formulas.</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns <span class="co"># Imports seaborn, a statistical data visualization library based on matplotlib. It provides a higher-level interface and attractive visualizations.</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm <span class="co"># Imports statsmodels package for statistical model functions</span></span></code></pre></div>
</div>
<section id="data-collection" class="cell markdown" id="64h_9yIehfdt">
<h2>Data Collection</h2>
<p>In the context of our study on the English Premier League, data
collection involves sourcing and accumulating desired match statistics
and league standings from various seasons. This data will later be used
to determine the on-pitch factors that increase a teams seasonal points
in the EPL.</p>
<p>Specifically, datasets detailing goals, shots, and related metrics
for each matchday from the 2010/11 season up to the 2019/20 season have
been gathered.</p>
<p>Primary Sources of Data are:</p>
<p><a href="https://www.premierleague.com/"
class="uri">https://www.premierleague.com/</a></p>
<p><a
href="https://data.world/evangower/premier-league-standings-1992-2022"
class="uri">https://data.world/evangower/premier-league-standings-1992-2022</a>
==&gt; Basic Data</p>
<p><a
href="https://www.kaggle.com/datasets/taranguyen/english-premier-league-data-for-10-seasons"
class="uri">https://www.kaggle.com/datasets/taranguyen/english-premier-league-data-for-10-seasons</a>
==&gt; Shots, Fouls, Cards, and Corners Data</p>
<p>Further Unused Information about the Premier League for Additional
Statistics:</p>
<p><a
href="https://www.kaggle.com/datasets/arbabqaisar/pl-tableattendancekit-sponsorship-data"
class="uri">https://www.kaggle.com/datasets/arbabqaisar/pl-tableattendancekit-sponsorship-data</a>
==&gt; Fan Attendence Data</p>
<p><a
href="https://www.transfermarkt.com/premier-league/marktwerteverein/wettbewerb/GB1/plus/?stichtag=2011-05-15"
class="uri">https://www.transfermarkt.com/premier-league/marktwerteverein/wettbewerb/GB1/plus/?stichtag=2011-05-15</a>
==&gt; Team Valuation Data</p>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="D_Bovw0oEwsn" data-outputId="3bc33211-1cb7-4cdd-c671-3104fe8fd71b">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># customizes the display settings for the pandas library.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">&#39;display.width&#39;</span>, <span class="dv">3500</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">&#39;display.max_columns&#39;</span>, <span class="va">None</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">&#39;display.max_rows&#39;</span>, <span class="va">None</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">&#39;display.max_colwidth&#39;</span>, <span class="va">None</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># mounts Google Drive to the /content/drive directory of the Colab environment, allowing us to access content at that location.</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>drive.mount(<span class="st">&#39;/content/drive&#39;</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">#sets the filepaths for the various tables that we will be using</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># The main dataset is premier-league-tables.csv</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># there are additional datasets for each season from 2010/11 to 2019/20, detailing goals and shots for each matchday.</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># the last dataset adds fouls, red card, yellow card, corners</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>orig <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/premier-league-tables.csv&#39;</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>fanAttendenceFile <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/myPLLLL.csv&#39;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>epl1011 <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/epldat10seasons/epl1011matchday-goals-shots.csv&#39;</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>epl1112 <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/epldat10seasons/epl1112matchday-goals-shots.csv&#39;</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>epl1213 <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/epldat10seasons/epl1213matchday-goals-shots.csv&#39;</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>epl1314 <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/epldat10seasons/epl1314matchday-goals-shots.csv&#39;</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>epl1415 <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/epldat10seasons/epl1415matchday-goals-shots.csv&#39;</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>epl1516 <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/epldat10seasons/epl1516matchday-goals-shots.csv&#39;</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>epl1617 <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/epldat10seasons/epl1617matchday-goals-shots.csv&#39;</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>epl1718 <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/epldat10seasons/epl1718matchday-goals-shots.csv&#39;</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>epl1819 <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/epldat10seasons/epl1819matchday-goals-shots.csv&#39;</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>epl1920 <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/epldat10seasons/epl1920matchday-goals-shots.csv&#39;</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>epl10season <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/epldat10seasons/epl-allseasons-matchstats.csv&#39;</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="co"># The main dataset of basic statistics (orig) is loaded into the pandas df DataFrame.</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(orig, sep<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="co"># fanAttendance = pd.read_csv(fanAttendenceFile, sep=&#39;,&#39;)</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a><span class="co"># The datasets of match data for each season are loaded into separate DataFrames (df11, df12, ..., df20).</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>df11 <span class="op">=</span> pd.read_csv(epl1011, sep<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>df12 <span class="op">=</span> pd.read_csv(epl1112, sep<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>df13 <span class="op">=</span> pd.read_csv(epl1213, sep<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>df14 <span class="op">=</span> pd.read_csv(epl1314, sep<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>df15 <span class="op">=</span> pd.read_csv(epl1415, sep<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>df16 <span class="op">=</span> pd.read_csv(epl1516, sep<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>df17 <span class="op">=</span> pd.read_csv(epl1617, sep<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>df18 <span class="op">=</span> pd.read_csv(epl1718, sep<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>df19 <span class="op">=</span> pd.read_csv(epl1819, sep<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>df20 <span class="op">=</span> pd.read_csv(epl1920, sep<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a><span class="co"># creates a dataframe for the fouls,cards, and corners data</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>temp_df <span class="op">=</span> pd.read_csv(epl10season, sep<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a><span class="co"># View and double check the extracted &#39;df&#39;</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a><span class="co">#print(df)</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a><span class="co"># goal efficiency correlated with winning percentage ????? What does this mean???</span></span></code></pre></div>
<div class="output stream stdout">
<pre><code>Mounted at /content/drive
</code></pre>
</div>
</div>
<section id="explanation-of-data-collection-code" class="cell markdown"
id="LxhsMQnwHmOP">
<h4>Explanation of Data Collection Code</h4>
<p>The code above first sets the desired viewing settings for the code
outputs.</p>
<p>Next, we use the mount command to access our desired csv files
('premier-league-tables.csv' and 'epl1011matchday-goals-shots.csv' etc.)
which are stored in our Google drive at '/content/drive/MyDrive/'.</p>
<p>We then establish the filepaths for our desired csv files.</p>
<p>Next we use the pandas command read_csv() to form dataframes from our
desired data from each csv file using a comma ',' as the delimiter.</p>
</section>
<section id="data-processing" class="cell markdown" id="y-nC3fDOjUPY">
<h2>Data Processing</h2>
<p>Now that our desired data has been collected, the process of data
curation begins. Since the data spans multiple sets and consists of
numerous metrics, it is important to make sure that there are no
gaps/issues between datasets.</p>
<p>We can ensure dataset integrity by verifying completeness (i.e. the
presence of missing values) and accuracy (i.e. the datasets line up with
one another are have verifiable data). This involves checking for any
inconsistencies, missing values, or potential anomalies within each
season's dataset.</p>
<p>By successfully curating our data, we can guarantee that our
subsequent analyses are grounded in reliable and comprehensive data.</p>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="JK6P4E11XEk3" data-outputId="508fa7b1-2f3e-47e7-bed5-37aa098ffa30">
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The main dataset df is filtered to retain only the rows corresponding to seasons of 2010-2011 to 2019-2020.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>years_to_keep <span class="op">=</span> [<span class="dv">2011</span>, <span class="dv">2012</span>, <span class="dv">2013</span>, <span class="dv">2014</span>, <span class="dv">2015</span>, <span class="dv">2016</span>, <span class="dv">2017</span>, <span class="dv">2018</span>, <span class="dv">2019</span>, <span class="dv">2020</span>]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>filtered_df <span class="op">=</span> df[df[<span class="st">&#39;Season_End_Year&#39;</span>].isin(years_to_keep)]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The &#39;Notes&#39; column is removed as it is not needed</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>filtered_df <span class="op">=</span> filtered_df.drop(columns<span class="op">=</span>[<span class="st">&#39;Notes&#39;</span>])</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># View and double check the filtered data</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(filtered_df.head())</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>     Season_End_Year             Team  Rk  MP   W   D   L  GF  GA  GD  Pts
366             2011          Arsenal   4  38  19  11   8  72  43  29   68
367             2011      Aston Villa   9  38  12  12  14  48  59 -11   48
368             2011  Birmingham City  18  38   8  15  15  37  58 -21   39
369             2011        Blackburn  15  38  11  10  17  46  59 -13   43
370             2011        Blackpool  19  38  10   9  19  55  78 -23   39

</code></pre>
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="FXX9Z0A3Yx2D" data-outputId="ac5f4af8-7176-496b-850e-fd235ae29a6b">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># For each individual season dataset (df11, df12, etc.), we add a new column indicating the season end year.</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>df11[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">=</span> <span class="dv">2011</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>df12[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">=</span> <span class="dv">2012</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>df13[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">=</span> <span class="dv">2013</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>df14[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">=</span> <span class="dv">2014</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>df15[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">=</span> <span class="dv">2015</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>df16[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">=</span> <span class="dv">2016</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>df17[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">=</span> <span class="dv">2017</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>df18[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">=</span> <span class="dv">2018</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>df19[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">=</span> <span class="dv">2019</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>df20[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">=</span> <span class="dv">2020</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all season datasets into a single DataFrame &#39;combined_df&#39;</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="co"># This will make it easier to deal with seasonal match data regarding goals and shots for each team</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>frames <span class="op">=</span> [df11, df12, df13, df14, df15, df16, df17, df18, df19, df20]</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>combined_df <span class="op">=</span> pd.concat(frames, ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co"># The filtered_df and combined_df have variations of the same column/value types which makes it hard to analyze them later in case of merging or grouping</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co"># For example, combined_df refers to teams as &#39;Clubs&#39; and filtered_df refers to teams as &#39;Team&#39;</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co"># In addition, combined_df refers to certain teams with different names such as using &#39;Birmingham&#39; instead of &#39;Birmingham City&#39; as used in filtered_df</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Thus, we must standardize the columns and values for each table by replacing alternative/short names with full/shared names to maintain consistency.</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>combined_df <span class="op">=</span> combined_df.rename(columns<span class="op">=</span>{<span class="st">&quot;Club&quot;</span>: <span class="st">&quot;Team&quot;</span>})</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>combined_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> combined_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Birmingham&#39;</span>, <span class="st">&#39;Birmingham City&#39;</span>)</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>combined_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> combined_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Man City&#39;</span>, <span class="st">&#39;Manchester City&#39;</span>)</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>combined_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> combined_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Man Utd&#39;</span>, <span class="st">&#39;Manchester Utd&#39;</span>)</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>combined_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> combined_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Man Utd&#39;</span>, <span class="st">&#39;Manchester Utd&#39;</span>)</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>combined_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> combined_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Newcastle&#39;</span>, <span class="st">&#39;Newcastle Utd&#39;</span>)</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>combined_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> combined_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Stoke&#39;</span>, <span class="st">&#39;Stoke City&#39;</span>)</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>combined_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> combined_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Wigan&#39;</span>, <span class="st">&#39;Wigan Athletic&#39;</span>)</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>combined_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> combined_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Norwich&#39;</span>, <span class="st">&#39;Norwich City&#39;</span>)</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>combined_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> combined_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Swansea&#39;</span>, <span class="st">&#39;Swansea City&#39;</span>)</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>combined_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> combined_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Cardiff&#39;</span>, <span class="st">&#39;Cardiff City&#39;</span>)</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>combined_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> combined_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Hull&#39;</span>, <span class="st">&#39;Hull City&#39;</span>)</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>combined_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> combined_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Leicester&#39;</span>, <span class="st">&#39;Leicester City&#39;</span>)</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Rearrange the columns to move the &#39;Season_End_Year&#39; column right after the &#39;Team&#39; column.</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="co"># This will make it easier to find/read as knowing the corresponding Season of each row&#39;s data is important to our later analyses</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> combined_df.columns.tolist()</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> [cols[<span class="dv">0</span>]] <span class="op">+</span> [cols[<span class="op">-</span><span class="dv">1</span>]] <span class="op">+</span> cols[<span class="dv">1</span>:<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>combined_df <span class="op">=</span> combined_df[cols]</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a><span class="co"># View and double check the modified &#39;combined_df&#39;</span></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(combined_df.head())</span></code></pre></div>
<div class="output stream stdout">
<pre><code>              Team  Season_End_Year  M1GoalsScored  M2GoalsScored  M3GoalsScored  M4GoalsScored  M5GoalsScored  M6GoalsScored  M7GoalsScored  M8GoalsScored  M9GoalsScored  M10GoalsScored  M11GoalsScored  M12GoalsScored  M13GoalsScored  M14GoalsScored  M15GoalsScored  M16GoalsScored  M17GoalsScored  M18GoalsScored  M19GoalsScored  M20GoalsScored  M21GoalsScored  M22GoalsScored  M23GoalsScored  M24GoalsScored  M25GoalsScored  M26GoalsScored  M27GoalsScored  M28GoalsScored  M29GoalsScored  M30GoalsScored  M31GoalsScored  M32GoalsScored  M33GoalsScored  M34GoalsScored  M35GoalsScored  M36GoalsScored  M37GoalsScored  M38GoalsScored  M1GoalsConceded  M2GoalsConceded  M3GoalsConceded  M4GoalsConceded  M5GoalsConceded  M6GoalsConceded  M7GoalsConceded  M8GoalsConceded  M9GoalsConceded  M10GoalsConceded  M11GoalsConceded  M12GoalsConceded  M13GoalsConceded  M14GoalsConceded  M15GoalsConceded  M16GoalsConceded  M17GoalsConceded  M18GoalsConceded  M19GoalsConceded  M20GoalsConceded  M21GoalsConceded  M22GoalsConceded  M23GoalsConceded  M24GoalsConceded  M25GoalsConceded  M26GoalsConceded  M27GoalsConceded  M28GoalsConceded  M29GoalsConceded  M30GoalsConceded  M31GoalsConceded  M32GoalsConceded  M33GoalsConceded  M34GoalsConceded  M35GoalsConceded  M36GoalsConceded  M37GoalsConceded  M38GoalsConceded  M1Shots  M2Shots  M3Shots  M4Shots  M5Shots  M6Shots  M7Shots  M8Shots  M9Shots  M10Shots  M11Shots  M12Shots  M13Shots  M14Shots  M15Shots  M16Shots  M17Shots  M18Shots  M19Shots  M20Shots  M21Shots  M22Shots  M23Shots  M24Shots  M25Shots  M26Shots  M27Shots  M28Shots  M29Shots  M30Shots  M31Shots  M32Shots  M33Shots  M34Shots  M35Shots  M36Shots  M37Shots  M38Shots  M1ShotsOnTarget  M2ShotsOnTarget  M3ShotsOnTarget  M4ShotsOnTarget  M5ShotsOnTarget  M6ShotsOnTarget  M7ShotsOnTarget  M8ShotsOnTarget  M9ShotsOnTarget  M10ShotsOnTarget  M11ShotsOnTarget  M12ShotsOnTarget  M13ShotsOnTarget  M14ShotsOnTarget  M15ShotsOnTarget  M16ShotsOnTarget  M17ShotsOnTarget  M18ShotsOnTarget  M19ShotsOnTarget  M20ShotsOnTarget  M21ShotsOnTarget  M22ShotsOnTarget  M23ShotsOnTarget  M24ShotsOnTarget  M25ShotsOnTarget  M26ShotsOnTarget  M27ShotsOnTarget  M28ShotsOnTarget  M29ShotsOnTarget  M30ShotsOnTarget  M31ShotsOnTarget  M32ShotsOnTarget  M33ShotsOnTarget  M34ShotsOnTarget  M35ShotsOnTarget  M36ShotsOnTarget  M37ShotsOnTarget  M38ShotsOnTarget
0          Arsenal             2011              1              6              2              4              1              2              0              2              3               1               0               2               2               2               4               2               0               3               2               3               0               3               3               2               4               2               1               0               2               0               3               1               3               1               1               1               1               2                1                0                1                1                1                3                2                1                0                 0                 1                 0                 1                 3                 2                 1                 1                 1                 2                 0                 0                 0                 0                 1                 4                 0                 0                 0                 2                 0                 1                 1                 3                 2                 0                 3                 2                 2       14       26       14       23       16       24       13       18       12        20        11        12        13        12        17        15        11        10        15        18        13        19        23        19        13        17         9        14        18        19        16        12        13        17         9        14        24        12                7               16                9               14                7               12                5               13                8                13                 8                 8                 8                 7                10                 9                 6                 8                 9                11                 8                13                15                10                10                 8                 4                 7                11                11                 7                 6                 9                 7                 2                 5                15                 6
1      Aston Villa             2011              3              0              1              1              1              2              1              0              0               0               1               3               2               0               2               0               2               1               0               3               0               1               1               2               1               2               1               4               2               0               2               1               2               1               1               1               2               1                0                6                0                2                1                1                2                0                1                 0                 1                 2                 2                 2                 4                 3                 1                 2                 4                 3                 1                 1                 0                 1                 3                 2                 1                 1                 3                 1                 2                 0                 1                 1                 2                 1                 1                 0       23        3       12       10       13       10       13       11       11         7        15        19        12        16         6         5         6        26         9        16         8        13        10        11         9        10         7        17        10        11         7        13        21         7        11        10         8        10               11                1                6                6                6                8                4                5                7                 3                 8                12                 6                11                 4                 2                 3                15                 4                10                 2                 3                 8                10                 5                 5                 4                10                 6                 5                 5                 7                11                 2                 6                 7                 5                 8
2  Birmingham City             2011              2              2              2              0              1              0              0              1              2               0               2               2               0               1               1               1               0               1               0               2               1               0               2               1               1               0               1               1               1               2               1               2               1               0               1               1               0               1                2                1                2                0                3                0                2                2                0                 0                 2                 3                 0                 0                 1                 1                 1                 1                 3                 1                 1                 5                 2                 0                 0                 2                 3                 1                 2                 1                 1                 0                 3                 5                 1                 2                 2                 2       13       10        9       15        6       10        6        6       17        10         8        14         5         1         7        13         3         8         2        11        14         6        14         9        10        11         9         5         7         9         6        10         6        10         8         5         7         7                7                7                5                3                3                4                3                4                8                 6                 5                10                 3                 1                 3                 5                 0                 3                 1                 7                 4                 1                 7                 3                 4                 5                 4                 3                 4                 6                 5                 4                 3                 6                 1                 2                 2                 3
3        Blackburn             2011              1              1              1              1              1              2              0              0              1               1               2               2               2               2               1               3               1               1               0               3               0               3               0               2               0               3               0               1               2               2               0               1               0               0               1               1               1               3                0                2                2                1                1                1                1                0                2                 2                 1                 1                 4                 0                 7                 0                 2                 1                 2                 1                 3                 1                 2                 0                 1                 4                 0                 4                 3                 2                 0                 1                 2                 1                 0                 1                 1                 2        7        7       15        4        9       13        7        9        4        13        10         7        12        14         3        10        16        13        12         6        11        10         3        17        17         9         4         5        12        24         7        15         4        12        17         8         6        13                2                2                7                2                5                8                4                3                2                 6                 3                 5                 8                 5                 2                 7                11                 5                 8                 4                 3                 4                 2                12                 9                 5                 0                 2                 9                 7                 2                 5                 2                 6                 8                 4                 2                10
4        Blackpool             2011              4              0              2              2              0              1              2              2              0               2               2               2               0               2               2               1               2               0               1               2               2               1               2               1               3               1               3               0               1               2               0               1               1               1               0               1               4               2                0                6                2                0                4                2                1                3                2                 1                 2                 3                 0                 1                 2                 0                 0                 1                 2                 1                 3                 2                 3                 3                 5                 1                 1                 4                 3                 2                 3                 3                 3                 1                 0                 1                 3                 4        9        3       14        7       11       11       11       16       14        21        11        12        16        13        16        10         9         8        19        13         9        13         6        13        11        14         8         2        14         8        10        12        14        18        11        13        12        14                7                1                5                4                4                8                7                5                6                 8                 8                 6                 5                 9                10                 5                 4                 6                13                 9                 2                 7                 4                 8                 7                 5                 4                 1                 5                 6                 6                 6                 9                 7                 6                 7                 8                 7
</code></pre>
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="70La06AgXNPs" data-outputId="bbbb7730-da65-4d4b-fd17-8ff821e790c9">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create the last temp_df by calculating the total corner kicks, fouls, yellow cards, and red cards for each team and season group</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>drop_columns <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">3</span>)) <span class="op">+</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">5</span>, <span class="dv">11</span>)) <span class="op">+</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">15</span>, <span class="dv">19</span>))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>temp_df.drop(temp_df.columns[drop_columns], inplace<span class="op">=</span><span class="va">True</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>blank_df <span class="op">=</span> pd.DataFrame(columns<span class="op">=</span>[<span class="st">&#39;Season_End_Year&#39;</span>, <span class="st">&#39;Team&#39;</span>, <span class="st">&#39;CornerKicks&#39;</span>, <span class="st">&#39;Fouls&#39;</span>, <span class="st">&#39;YellowCard&#39;</span>, <span class="st">&#39;RedCard&#39;</span>])</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>temp_rows <span class="op">=</span> []</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>current_season_end_year <span class="op">=</span> <span class="va">None</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Iterate through each row in the df DataFrame</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, row <span class="kw">in</span> temp_df.iterrows():</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Extract season end year</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    season_end_year <span class="op">=</span> <span class="bu">int</span>(row[<span class="st">&#39;Season&#39;</span>][<span class="op">-</span><span class="dv">2</span>:])</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set values to add into the array to create data frame</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    home_team <span class="op">=</span> row[<span class="st">&#39;HomeTeam&#39;</span>]</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    away_team <span class="op">=</span> row[<span class="st">&#39;AwayTeam&#39;</span>]</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    home_corner <span class="op">=</span> row[<span class="st">&#39;HomeCorners&#39;</span>]</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    away_corner <span class="op">=</span> row[<span class="st">&#39;AwayCorners&#39;</span>]</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    home_fouls <span class="op">=</span> row[<span class="st">&#39;HomeFouls&#39;</span>]</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    away_fouls <span class="op">=</span> row[<span class="st">&#39;AwayFouls&#39;</span>]</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    home_yello <span class="op">=</span> row[<span class="st">&#39;HomeYellowCards&#39;</span>]</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    away_yello <span class="op">=</span> row[<span class="st">&#39;AwayYellowCards&#39;</span>]</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    home_red <span class="op">=</span> row[<span class="st">&#39;HomeRedCards&#39;</span>]</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    away_red <span class="op">=</span> row[<span class="st">&#39;AwayRedCards&#39;</span>]</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add values to array to create dataframe</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    temp_rows.append({<span class="st">&#39;Season_End_Year&#39;</span>: season_end_year, <span class="st">&#39;Team&#39;</span>: home_team, <span class="st">&#39;CornerKicks&#39;</span>: home_corner, <span class="st">&#39;Fouls&#39;</span>: home_fouls, <span class="st">&#39;YellowCard&#39;</span>: home_yello, <span class="st">&#39;RedCard&#39;</span>: home_red})</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    temp_rows.append({<span class="st">&#39;Season_End_Year&#39;</span>: season_end_year, <span class="st">&#39;Team&#39;</span>: away_team, <span class="st">&#39;CornerKicks&#39;</span>: away_corner, <span class="st">&#39;Fouls&#39;</span>: away_fouls, <span class="st">&#39;YellowCard&#39;</span>: away_yello, <span class="st">&#39;RedCard&#39;</span>: away_red})</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill in blank dataframe with values from above</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>blank_df <span class="op">=</span> pd.DataFrame(temp_rows)</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Group the values by season and team and sum the values</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>stats_df <span class="op">=</span> blank_df.groupby([<span class="st">&#39;Season_End_Year&#39;</span>, <span class="st">&#39;Team&#39;</span>], as_index<span class="op">=</span><span class="va">False</span>).<span class="bu">sum</span>()</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">=</span> <span class="st">&#39;20&#39;</span> <span class="op">+</span> stats_df[<span class="st">&#39;Season_End_Year&#39;</span>].astype(<span class="bu">str</span>)</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Season_End_Year&#39;</span>].astype(<span class="bu">int</span>)</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a><span class="co"># The filtered_df and combined_df have variations of the same column/value types which makes it hard to analyze them later in case of merging or grouping</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a><span class="co"># For example, combined_df refers to teams as &#39;Clubs&#39; and filtered_df refers to teams as &#39;Team&#39;</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a><span class="co"># In addition, combined_df refers to certain teams with different names such as using &#39;Birmingham&#39; instead of &#39;Birmingham City&#39; as used in filtered_df</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Thus, we must standardize the columns and values for each table by replacing alternative/short names with full/shared names to maintain consistency.</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Birmingham&#39;</span>, <span class="st">&#39;Birmingham City&#39;</span>)</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Man City&#39;</span>, <span class="st">&#39;Manchester City&#39;</span>)</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Man Utd&#39;</span>, <span class="st">&#39;Manchester Utd&#39;</span>)</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Man Utd&#39;</span>, <span class="st">&#39;Manchester Utd&#39;</span>)</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Newcastle&#39;</span>, <span class="st">&#39;Newcastle Utd&#39;</span>)</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Stoke&#39;</span>, <span class="st">&#39;Stoke City&#39;</span>)</span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Wigan&#39;</span>, <span class="st">&#39;Wigan Athletic&#39;</span>)</span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Norwich&#39;</span>, <span class="st">&#39;Norwich City&#39;</span>)</span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Swansea&#39;</span>, <span class="st">&#39;Swansea City&#39;</span>)</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Cardiff&#39;</span>, <span class="st">&#39;Cardiff City&#39;</span>)</span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Hull&#39;</span>, <span class="st">&#39;Hull City&#39;</span>)</span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>stats_df[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> stats_df[<span class="st">&#39;Team&#39;</span>].replace(<span class="st">&#39;Leicester&#39;</span>, <span class="st">&#39;Leicester City&#39;</span>)</span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(stats_df.head())</span></code></pre></div>
<div class="output stream stdout">
<pre><code>   Season_End_Year             Team  CornerKicks  Fouls  YellowCard  RedCard
0             2011          Arsenal          252    432          68        6
1             2011      Aston Villa          235    437          71        2
2             2011  Birmingham City          152    399          57        3
3             2011        Blackburn          175    455          65        4
4             2011        Blackpool          186    403          47        2
</code></pre>
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="pwFH55bIXSkp" data-outputId="623119e0-95bf-49ea-afc7-dde9f9d60978">
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge combined_df and filtered_df to show the combined statistics for all Teams from Seasons 2010-2011 to 2019-2020</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>complete_data <span class="op">=</span> pd.merge(combined_df, filtered_df, on<span class="op">=</span>[<span class="st">&#39;Season_End_Year&#39;</span>, <span class="st">&#39;Team&#39;</span>])</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co">#move the columns Rk, MP, W, D, L, GF, GA, GD, and Pts to start after &#39;Season_End_Year&#39;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> complete_data.columns.tolist()</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>move_cols <span class="op">=</span> [<span class="st">&#39;Rk&#39;</span>, <span class="st">&#39;MP&#39;</span>, <span class="st">&#39;W&#39;</span>, <span class="st">&#39;D&#39;</span>, <span class="st">&#39;L&#39;</span>, <span class="st">&#39;GF&#39;</span>, <span class="st">&#39;GA&#39;</span>, <span class="st">&#39;GD&#39;</span>, <span class="st">&#39;Pts&#39;</span>]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>new_order <span class="op">=</span> cols[:<span class="dv">2</span>] <span class="op">+</span> move_cols <span class="op">+</span> cols[<span class="dv">2</span>:<span class="op">-</span><span class="dv">9</span>]</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>complete_data <span class="op">=</span> complete_data[new_order]</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge combined_df and stats_df to show the combined statistics for all Teams from Seasons 2010-2011 to 2019-2020</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>complete_data <span class="op">=</span> pd.merge(complete_data, stats_df, on<span class="op">=</span>[<span class="st">&#39;Season_End_Year&#39;</span>, <span class="st">&#39;Team&#39;</span>])</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#move the columns CornerKicks  Fouls  YellowCard  RedCard to start after &#39;Season_End_Year&#39;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> complete_data.columns.tolist()</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>move_cols <span class="op">=</span> [<span class="st">&#39;CornerKicks&#39;</span>, <span class="st">&#39;Fouls&#39;</span>, <span class="st">&#39;YellowCard&#39;</span>, <span class="st">&#39;RedCard&#39;</span>]</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>new_order <span class="op">=</span> cols[:<span class="dv">11</span>] <span class="op">+</span> move_cols <span class="op">+</span> cols[<span class="dv">11</span>:<span class="op">-</span><span class="dv">4</span>]</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>complete_data <span class="op">=</span> complete_data[new_order]</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate columns to add: Total shots, Total shots on target, Percent Shots Scored (goals / total shots)</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>complete_data[<span class="st">&#39;TotalShots&#39;</span>] <span class="op">=</span> combined_df.loc[:, <span class="st">&#39;M1Shots&#39;</span>:<span class="st">&#39;M38Shots&#39;</span>].<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>complete_data[<span class="st">&#39;TotalShotsOnTarget&#39;</span>] <span class="op">=</span> combined_df.loc[:, <span class="st">&#39;M1ShotsOnTarget&#39;</span>:<span class="st">&#39;M38ShotsOnTarget&#39;</span>].<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>complete_data[<span class="st">&#39;PercentShotsScored&#39;</span>] <span class="op">=</span> complete_data[<span class="st">&#39;GF&#39;</span>] <span class="op">/</span> complete_data[<span class="st">&#39;TotalShots&#39;</span>]</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="co"># shift the columns again</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> complete_data.columns.tolist()</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>move_cols <span class="op">=</span> [<span class="st">&#39;TotalShots&#39;</span>, <span class="st">&#39;TotalShotsOnTarget&#39;</span>, <span class="st">&#39;PercentShotsScored&#39;</span>]</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>new_order <span class="op">=</span> cols[:<span class="dv">15</span>] <span class="op">+</span> move_cols <span class="op">+</span> cols[<span class="dv">15</span>:<span class="op">-</span><span class="dv">3</span>]</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>complete_data <span class="op">=</span> complete_data[new_order]</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a><span class="co">#drop unnecessary columns</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>complete_data.drop(complete_data.iloc[:, <span class="dv">18</span>:], inplace<span class="op">=</span> <span class="va">True</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a><span class="co"># View and double check the encompassing &#39;merged_data&#39;</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(complete_data.head())</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Checks for missing data</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Total Missing values found in complete_data:&quot;</span>)</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(complete_data.isnull().<span class="bu">sum</span>().<span class="bu">sum</span>())</span></code></pre></div>
<div class="output stream stdout">
<pre><code>              Team  Season_End_Year  Rk  MP   W   D   L  GF  GA  GD  Pts  CornerKicks  Fouls  YellowCard  RedCard  TotalShots  TotalShotsOnTarget  PercentShotsScored
0          Arsenal             2011   4  38  19  11   8  72  43  29   68          252    432          68        6         595                 342            0.121008
1      Aston Villa             2011   9  38  12  12  14  48  59 -11   48          235    437          71        2         436                 241            0.110092
2  Birmingham City             2011  18  38   8  15  15  37  58 -21   39          152    399          57        3         327                 155            0.113150
3        Blackburn             2011  15  38  11  10  17  46  59 -13   43          175    455          65        4         385                 191            0.119481
4        Blackpool             2011  19  38  10   9  19  55  78 -23   39          186    403          47        2         446                 235            0.123318
Total Missing values found in complete_data:
0
</code></pre>
</div>
</div>
<section id="explanation-of-data-processing-code" class="cell markdown"
id="ly3qInifHp87">
<h4>Explanation of Data Processing Code</h4>
<p>We first create a 'filtered_df' dataframe which filters the basic
team statistics to only include the Season_End_Year from 2011 to 2020.
This is important as our match data only includes 'Season_End_Year' data
from 2011 to 2020.</p>
<p>Next we combine all match data for each season into a single
'combined_df' dataframe.</p>
<p>Lastly, we create stats_df that holds the data for CornerKicks,
Fouls, YellowCard, RedCard.</p>
<p>Thankfully, none of these datasets had any missing data.</p>
<p>We then go through the combined_df and stats_df and
standardize/rename the feature/variable names so that they match with
filtered_df. This is important as later we can merge this data into a
single table and use corresponding variables/features from each table.
We also rearrange some of the columns just so they can be read
easier.</p>
<p>Lastly, we use our standardized feature/variable names to merge
'filtered_df' (storing basic team statistics) with 'combined_df'
(storing match statistics) as well as 'stats_df' for each season and
team.</p>
</section>
<section id="exploratory-analysis--data-visualization"
class="cell markdown" id="TbxkxQ6Pjdx5">
<h2>Exploratory Analysis &amp; Data Visualization</h2>
<p>In order to assess Premier League team performances, we perform
exploratory analysis where we plot the relationships between provided
and derived metrics such as Wins, ShotsOnTargetRatio and W_G_Ratio.</p>
<p>With this visualization of these variable relationships, we gain
insights such as a team's efficiency in shooting and winning in relation
to their goal tally.</p>
<p>Line plots track the performance trajectory of teams across seasons,
while scatter plots uncover relationships between various performance
metrics, such as the correlation between shot accuracy and wins.
Annotations and color-codings allow for insight into specfic variables
such as team-wise breakdowns.</p>
<p>Together, these steps help form a cohesive narrative of our data. EDA
ultimately transforms raw data into discernible patterns and stories
that help us better understand the player and game dynamics of the
Premier League.</p>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:607}"
id="tqA7_GPwjgbB" data-outputId="575931d6-6b34-4580-d91e-ff282476483e">
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">###Points across Years</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Take out all missing data that is labeled as -1 and every year that is Not between(1990-2014)</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>filtered_df <span class="op">=</span> filtered_df[(filtered_df[<span class="st">&#39;Season_End_Year&#39;</span>] <span class="op">!=</span> <span class="op">-</span><span class="dv">1</span>) <span class="op">&amp;</span> (filtered_df[<span class="st">&#39;Season_End_Year&#39;</span>].between(<span class="dv">2011</span>, <span class="dv">2020</span>))]</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Total Points vs Season of each Team</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">9</span>, <span class="dv">6</span>))</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot with lines for each team</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> teamName, team_data <span class="kw">in</span> filtered_df.groupby(<span class="st">&#39;Team&#39;</span>):</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    plt.plot(team_data[<span class="st">&#39;Season_End_Year&#39;</span>], team_data[<span class="st">&#39;Pts&#39;</span>], label<span class="op">=</span>teamName)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Set plot labels and title</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Season End Year&#39;</span>)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Total Points Accumulated&#39;</span>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39; Total Points vs. Season of each Team 2010/2011 to 2019/2020&#39;</span>)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">&#39;upper left&#39;</span>, bbox_to_anchor<span class="op">=</span>(<span class="dv">1</span>, <span class="dv">1</span>), ncol <span class="op">=</span> <span class="dv">2</span>)</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_454c29ac402f4845b8cd84663e0edada/425292e79991fe7c490325de646c89baedde6fcd.png" /></p>
</div>
</div>
<section id="analysis-of-total-points-vs-season-of-each-team"
class="cell markdown" id="lsyPV6WYROnp">
<h4>Analysis of 'Total Points vs Season of each Team'</h4>
<p>The line plot of points accumulated vs. year for each Premier League
team reveals interesting insights. Teams that consistently perform well
tend to maintain higher point accumulations across multiple years,
suggesting a level of consistency and dominance. This is contrasted with
other teams that show more variability in their point totals, often
hovering near the bottom. Notably, the graph highlights an exceptional
single-season performance where a team achieved one of the highest point
accumulations recorded. Additionally, Manchester City stands out as a
model of consistency, consistently maintaining high point totals and
remaining competitive at the top levels of the league. This analysis
showcases the importance of sustained performance for maintaining a
strong position in the Premier League and recognizes teams like
Manchester City's remarkable stability in their league standings.</p>
</section>
<section
id="explanation-of-total-points-vs-season-of-each-team-plot-significance"
class="cell markdown" id="0xfqpxidwY1W">
<h4>Explanation of 'Total Points vs Season of each Team' Plot
Significance</h4>
<p>The output of our code is a line chart where:</p>
<p>==&gt; The x-axis represents the season end years from 2011 to
2020.</p>
<p>==&gt; The y-axis represents the total points accumulated (where more
points indicate more wins)</p>
<p>==&gt; There are multiple lines where each line represents an English
Premier League Team's performance in terms of points earned across the
ten seasons.</p>
<p>Looking at the output, we can see that there is large variance in
different team's trajectories for win success overtime. Liverpool (top
gray line) for example, has some fluctuation but overall appears to have
a positive regression, starting with 58 pts in the 2010-2011 season and
ending with 99 pts in the 2019-2020 season. Other teams have had lots of
fluctuation and appear to have more horizontal regressions, indicating
little real growth.</p>
<p>These trends can further help us hypothesize about factors in a
specific teams win rate. For example, Liverpool's trendline shows
periods of peaks and troughs where it starts around average (2012),
grows consistently until a spike (2014), and then drops sharply again
(2016), only to grow consistently again to a higher peak (2020). We can
look for causation in these trends, such as perhaps a change of managers
during troughs, or larger investment in the team during peaks.</p>
</section>
<section id="lineplots-of-season-vs-factors" class="cell markdown"
id="Lo98VRRGrrLJ">
<h3>Lineplots of Season vs. Factors</h3>
<p>Below plots are some interesting visualization of generalized dataset
from 'complete_data'. Instead of following the general trend over the
season, the visualization represents the dynamic game play environment
that English Premier League has. Each team's goals socred or concieved,
fouls, and shots varies by each season. However, there are tendency in
each teams' performance where the teams who scores more goals tends to
remain high with high number of shots that they take. Interestingly,
some teams who scored more goals had less fouls than those who did not.
In addition, despite the total number of shots remains in a similar
range over the season, total shots on target has noticabily went down
over the years. More detailed analysis will be provided below.</p>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="Js6xdX3FrrwP" data-outputId="9c3a50fb-ce2c-485d-9203-5e5b92fee75f">
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">### Lineplots of Season vs. Factors</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Columns to plot</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>columns_to_plot <span class="op">=</span> [<span class="st">&#39;GF&#39;</span>, <span class="st">&#39;GA&#39;</span>, <span class="st">&#39;GD&#39;</span>, <span class="st">&#39;CornerKicks&#39;</span>, <span class="st">&#39;Fouls&#39;</span>, <span class="st">&#39;YellowCard&#39;</span>, <span class="st">&#39;RedCard&#39;</span>, <span class="st">&#39;TotalShots&#39;</span>, <span class="st">&#39;TotalShotsOnTarget&#39;</span>, <span class="st">&#39;PercentShotsScored&#39;</span>]</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine number of rows required to plot all columns (3 columns in each row)</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>num_rows <span class="op">=</span> (<span class="bu">len</span>(columns_to_plot) <span class="op">+</span> <span class="dv">2</span>) <span class="op">//</span> <span class="dv">3</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a single figure and multiple subplots</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(num_rows, <span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">6</span> <span class="op">*</span> num_rows))</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Flatten the axes object to iterate easily</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> axes.ravel()</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Using enumeration loop to plot each column</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, (column, ax) <span class="kw">in</span> <span class="bu">enumerate</span>(<span class="bu">zip</span>(columns_to_plot, axes), <span class="dv">1</span>):</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Plotting using seaborn for easy grouped line plots</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    sns.lineplot(data<span class="op">=</span>complete_data, x<span class="op">=</span><span class="st">&quot;Season_End_Year&quot;</span>, y<span class="op">=</span>column, hue<span class="op">=</span><span class="st">&quot;Team&quot;</span>, ax<span class="op">=</span>ax)</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    ax.set_title(<span class="ss">f&quot;</span><span class="sc">{</span>idx<span class="sc">}</span><span class="ss">. </span><span class="sc">{</span>column<span class="sc">}</span><span class="ss"> by Season&quot;</span>)</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    ax.set_ylabel(column)</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>    ax.set_xlabel(<span class="st">&quot;Season_End_Year&quot;</span>)</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>    ax.legend().set_visible(<span class="va">False</span>)  <span class="co"># Hide legend for clarity</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Hide any remaining unused subplots (if any)</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ax <span class="kw">in</span> axes[<span class="bu">len</span>(columns_to_plot):]:</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    ax.axis(<span class="st">&#39;off&#39;</span>)</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust layout</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_454c29ac402f4845b8cd84663e0edada/b3495fb61d066fecdf8e7e189c4b8939839d72d8.png" /></p>
</div>
</div>
<section id="season-factors-vs-years" class="cell markdown"
id="6_uyGGV_e2ou">
<h3>SEASON FACTORS VS YEARS</h3>
<p>Goals Scored by Each Team Across Years: This line chart illustrates
the goals scored by each team over the span of a decade. Notably, some
teams have maintained consistent high levels of goal scoring across
different seasons. This suggests a strong attacking strategy or a
consistent pool of talented strikers that have enabled these teams to
consistently find the back of the net.</p>
<p>Goals Conceded by Each Team Across Years: In contrast to the
fluctuating trend in goals conceded, the chart indicates that certain
bigger teams have shown a degree of defensive consistency. This might be
attributed to their strong defensive tactics, solid backline, or
goalkeeping prowess. Smaller teams, on the other hand, might experience
more variability due to changes in player composition and tactical
approach.</p>
<p>Goal Difference (Scored - Conceded) Across Years: The fluctuating
goal difference trend signifies the dynamic nature of the league.
However, the consistency observed among top teams like Manchester City
and Liverpool suggests a continued focus on attacking prowess and
well-structured defense. This consistency may be attributed to a
combination of strong squad management and effective tactical
strategies.</p>
<p>Corner Kicks Against Each Season: The chart highlighting corner kicks
against teams over multiple seasons indicates varying tactical plans
adopted by different teams. Some teams seem to consistently avoid
conceding corner kicks, implying a preference for defensive strategies
that reduce the chances of opponents taking corners, while other teams
may adopt more aggressive playstyles.</p>
<p>Fouls Per Season for Each Team: The substantial fluctuation in fouls
committed per season suggests evolving playing styles and changing
referees' enforcement tendencies. The spike in fouls between 2015 and
2018 could be linked to tactical shifts, rule changes, or player
behavior. Teams might have adapted to different strategies, leading to
variations in foul rates.</p>
<p>Yellow and Red Cards Across Seasons: The fluctuation in yellow and
red card issuance over time indicates the variability in the league's
disciplinary aspects. The spike in yellow cards from 2014 to 2016 might
be due to stricter refereeing or an increased focus on controlling rough
play. It could also reflect changes in team tactics, leading to more
aggressive or contentious play during this period.</p>
<p>Total Shots by Each Team for Each Season: The positive slope in the
total shots trend highlights a general inclination toward more attacking
play over the years. Teams that consistently shoot more might be
prioritizing offensive strategies, attempting to create more
goal-scoring opportunities. This could reflect an overall shift in the
league's approach to gameplay.</p>
<p>Total Shots on Target Across Years: The significant drop in shots on
target observed in 2014, followed by a sustained decrease, hints at a
shift in teams' approach to shooting accuracy. This could be attributed
to changes in tactical emphasis, focusing on shot quality over quantity.
The observed trend might indicate a more cautious approach to shooting
to ensure better chances of scoring.</p>
<p>Percentage of Shots Scored Across Years: The consistent trend in the
percentage of shots scored reinforces the importance of accuracy in
finishing. Teams that have a higher percentage of shots converted into
goals tend to maintain that efficiency over the years. This suggests
that clinical finishing remains a vital aspect of successful teams'
strategies.</p>
<p>In conclusion, interesting trends and patterns in the Premier League
over the analyzed period have been discovered. These trends offer
insights into evolving tactical strategies, player behavior, and changes
in the overall dynamics of the league. It's important to consider these
observations in the context of broader football trends and potential
external factors that might influence team performance and gameplay.</p>
</section>
<section id="lineplots-of-season-vs-mean-factors" class="cell markdown"
id="hKcRIxDntR7j">
<h3>Lineplots of Season vs. Mean Factors</h3>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="dBcA1L4Kt2CA" data-outputId="75ddf378-3a0c-4313-e8f0-ee0fafd233c0">
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">### Lineplots of Season vs. Mean Factors</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Columns to plot</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>columns_to_plot <span class="op">=</span> [<span class="st">&#39;GF&#39;</span>, <span class="st">&#39;GA&#39;</span>, <span class="st">&#39;GD&#39;</span>, <span class="st">&#39;CornerKicks&#39;</span>, <span class="st">&#39;Fouls&#39;</span>, <span class="st">&#39;YellowCard&#39;</span>, <span class="st">&#39;RedCard&#39;</span>, <span class="st">&#39;TotalShots&#39;</span>, <span class="st">&#39;TotalShotsOnTarget&#39;</span>, <span class="st">&#39;PercentShotsScored&#39;</span>]</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Group data by Season_End_Year and calculate the mean</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>grouped_data <span class="op">=</span> complete_data.groupby(<span class="st">&#39;Season_End_Year&#39;</span>).mean().reset_index()</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine number of rows required to plot all columns (3 columns in each row)</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>num_rows <span class="op">=</span> (<span class="bu">len</span>(columns_to_plot) <span class="op">+</span> <span class="dv">2</span>) <span class="op">//</span> <span class="dv">3</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a single figure and multiple subplots</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(num_rows, <span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">6</span> <span class="op">*</span> num_rows))</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Flatten the axes object to iterate easily</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> axes.ravel()</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Using enumeration loop to plot each column</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, (column, ax) <span class="kw">in</span> <span class="bu">enumerate</span>(<span class="bu">zip</span>(columns_to_plot, axes), <span class="dv">1</span>):</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Plotting using seaborn for easy grouped line plots</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    sns.lineplot(data<span class="op">=</span>grouped_data, y<span class="op">=</span>column, x<span class="op">=</span><span class="st">&quot;Season_End_Year&quot;</span>, ax<span class="op">=</span>ax)</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    ax.set_title(<span class="ss">f&quot;</span><span class="sc">{</span>idx<span class="sc">}</span><span class="ss">. Mean </span><span class="sc">{</span>column<span class="sc">}</span><span class="ss"> by Season&quot;</span>)</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    ax.set_ylabel(column)</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    ax.set_xlabel(<span class="st">&quot;Season_End_Year&quot;</span>)</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Hide any remaining unused subplots (if any)</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ax <span class="kw">in</span> axes[<span class="bu">len</span>(columns_to_plot):]:</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    ax.axis(<span class="st">&#39;off&#39;</span>)</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust layout</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stderr">
<pre><code>&lt;ipython-input-195-f489c29e3462&gt;:10: FutureWarning: The default value of numeric_only in DataFrameGroupBy.mean is deprecated. In a future version, numeric_only will default to False. Either specify numeric_only or select only columns which should be valid for the function.
  grouped_data = complete_data.groupby(&#39;Season_End_Year&#39;).mean().reset_index()
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_454c29ac402f4845b8cd84663e0edada/995dd19c456e683ede62d04346cd824ba2bb28ac.png" /></p>
</div>
</div>
<section id="mean-season-factors-vs-years-analysis"
class="cell markdown" id="niAaAdcBtvPj">
<h3>MEAN SEASON FACTORS VS YEARS ANALYSIS</h3>
<p>Mean Goals Scored Over Time: The fluctuating pattern of mean goals
scored, with a significant drop between 2014 and 2016, followed by a
subsequent increase between 2016 and 2020, reflects the dynamic nature
of goal-scoring trends. Changes in playing styles, tactics, and team
compositions might have contributed to these variations.</p>
<p>Mean Goals Conceded Over Time: Similar to mean goals scored, mean
goals conceded also exhibit a fluctuating pattern, suggesting a
connection between attacking and defensive performance. Teams that are
successful in scoring may also face challenges in maintaining a
consistent defensive record.</p>
<p>Mean Goal Difference (Scored - Conceded) Over Time: The flat line
with a slope of zero for mean goal difference indicates that, on
average, teams' attacking output matches their defensive resilience over
the years. This might imply that, despite fluctuations, teams generally
maintain a balance between scoring and conceding.</p>
<p>Mean Corner Kicks Against Over Time: The gradual drop in mean corner
kicks against over the years suggests a trend of fewer corner kicks
occurring as time progresses. This could be due to tactical shifts and
strategies focused on minimizing situations that lead to conceding
corner kicks.</p>
<p>Mean Fouls Per Season Over Time: The fluctuating pattern with peaks
and drops in mean fouls indicates varying levels of physicality and
aggression in different seasons. The jump from 2012 to 2018 could
suggest tactical adjustments or rule changes that influenced players'
behaviors.</p>
<p>Mean Yellow and Red Cards Over Time: The resemblance of mean yellow
cards to the mean fouls pattern highlights a potential correlation
between fouls committed and disciplinary actions taken by referees. The
gradual drop in mean red cards across all years could indicate improved
player conduct.</p>
<p>Mean Total Shots Over Time: The decreasing trend in mean total shots
suggests a strategic shift in teams' approach to shooting. The emphasis
might be moving away from sheer volume and more toward quality, aiming
for more accurate shots rather than a higher number of attempts.</p>
<p>Mean Total Shots on Target Over Time: The major drop in mean total
shots on target during 2014, followed by a consistent trend, underscores
a change in shooting accuracy. Teams seem to have adjusted their
tactics, focusing on precision rather than simply attempting to place
shots on goal.</p>
<p>Mean Percentage of Shots Scored Over Time: The significant drop
between 2014 and 2016 in mean percentage of shots scored, followed by a
recovery, might reflect changes in finishing efficiency during that
period. The subsequent return to normal suggests a stabilization in
teams' ability to convert shots into goals.</p>
<p>These trends could be influenced by factors such as tactical
innovations, rule changes, player development, and coaching strategies.
Keep in mind that while these trends can help draw conclusions, a
comprehensive understanding might require additional contextual
information and in-depth investigation.</p>
</section>
<section id="scatterplots-pts-vs-factors" class="cell markdown"
id="At7JCl_pps54">
<h3>Scatterplots Pts vs. Factors</h3>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="NYhuPA7npnqR" data-outputId="9fc5e392-a559-4e59-89c2-4a9e455bcad3">
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">### Scatterplots Pts vs. Factors</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># List of columns to plot</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>columns_to_plot <span class="op">=</span> [<span class="st">&#39;GF&#39;</span>, <span class="st">&#39;GA&#39;</span>, <span class="st">&#39;GD&#39;</span>, <span class="st">&#39;CornerKicks&#39;</span>, <span class="st">&#39;Fouls&#39;</span>, <span class="st">&#39;YellowCard&#39;</span>, <span class="st">&#39;RedCard&#39;</span>, <span class="st">&#39;TotalShots&#39;</span>, <span class="st">&#39;TotalShotsOnTarget&#39;</span>, <span class="st">&#39;PercentShotsScored&#39;</span>]</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the number of rows required to plot all columns (3 columns in each row)</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>num_rows <span class="op">=</span> (<span class="bu">len</span>(columns_to_plot) <span class="op">+</span> <span class="dv">2</span>) <span class="op">//</span> <span class="dv">3</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a single figure and multiple subplots</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(num_rows, <span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">6</span> <span class="op">*</span> num_rows))</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Flatten the axes object to iterate easily</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> axes.ravel()</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Iterate over each column in columns_to_plot to create scatter plots against &#39;Pts&#39; for each group</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, (column, ax) <span class="kw">in</span> <span class="bu">enumerate</span>(<span class="bu">zip</span>(columns_to_plot, axes), <span class="dv">1</span>):</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Plotting</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    ax.scatter(complete_data[column], complete_data[<span class="st">&#39;Pts&#39;</span>], label<span class="op">=</span>column, alpha<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Regression line computation using statsmodels</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>    X <span class="op">=</span> sm.add_constant(complete_data[column])</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>    model <span class="op">=</span> sm.OLS(complete_data[<span class="st">&#39;Pts&#39;</span>], X).fit()</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>    ax.plot(complete_data[column], model.predict(X), color<span class="op">=</span><span class="st">&#39;red&#39;</span>)  <span class="co"># plot regression line</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>    ax.text(<span class="fl">0.1</span>, <span class="fl">0.9</span>, <span class="ss">f&#39;y = </span><span class="sc">{</span>model<span class="sc">.</span>params[column]<span class="sc">:.2f}</span><span class="ss">x + </span><span class="sc">{</span>model<span class="sc">.</span>params[<span class="st">&quot;const&quot;</span>]<span class="sc">:.2f}</span><span class="ss">&#39;</span>, transform<span class="op">=</span>ax.transAxes, color<span class="op">=</span><span class="st">&quot;red&quot;</span>)  <span class="co"># display equation</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>    ax.text(<span class="fl">0.1</span>, <span class="fl">0.8</span>, <span class="ss">f&#39;p-value: </span><span class="sc">{</span>model<span class="sc">.</span>pvalues[column]<span class="sc">:.5f}</span><span class="ss">&#39;</span>, transform<span class="op">=</span>ax.transAxes, color<span class="op">=</span><span class="st">&quot;blue&quot;</span>)  <span class="co"># display p-value</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>    ax.set_title(<span class="ss">f&quot;</span><span class="sc">{</span>idx<span class="sc">}</span><span class="ss">. </span><span class="sc">{</span>column<span class="sc">}</span><span class="ss"> vs Points by Team and Season&quot;</span>)</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>    ax.set_xlabel(<span class="ss">f&quot;</span><span class="sc">{</span>column<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>    ax.set_ylabel(<span class="st">&quot;Points&quot;</span>)</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>    ax.legend()</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>    ax.grid(<span class="va">True</span>)</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Hide any remaining unused subplots (if any)</span></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ax <span class="kw">in</span> axes[<span class="bu">len</span>(columns_to_plot):]:</span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>    ax.axis(<span class="st">&#39;off&#39;</span>)</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_454c29ac402f4845b8cd84663e0edada/77e1177b79420bbe5479aac731eec595298509d4.png" /></p>
</div>
</div>
<section id="season-factors-vs-years-scatterplot--analysis"
class="cell markdown" id="Ba_zSfas-hbl">
<h3>Season Factors VS Years ScatterPlot- Analysis</h3>
<p>Goals Scored vs Points: The positive correlation observed between
goals scored and points indicates that teams which score more goals tend
to accumulate more points, reflecting a connection between offensive
prowess and overall success. This strong association suggests that
goal-scoring ability is a significant factor contributing to a team's
performance in the league.</p>
<p>Goals Conceded vs Points: The negative correlation between goals
conceded and points highlights that teams which concede fewer goals
generally attain higher point totals. This underscores the importance of
a strong defense in achieving positive outcomes in the league. Teams
with solid defensive records are often better positioned to secure
points and higher league standings.</p>
<p>Goal Difference vs Points: The positive slope or correlation between
goal difference and points reinforces the idea that teams with a greater
positive goal difference, indicating a strong attack and solid defense,
tend to achieve higher point totals. Teams like Manchester City, known
for their attacking prowess and goal difference, exemplify this
trend.</p>
<p>Corner Kicks vs Points: The trend you've noted suggests a less clear
correlation between corner kicks and points compared to goals scored.
While there seems to be a connection that more corner kicks might
contribute to more points, it might not be as pronounced as with goals
scored. This might indicate that corner kicks alone might not be as
indicative of a team's success.</p>
<p>Fouls vs Points: The general trend of higher fouls being associated
with lower points aligns with the notion that disciplined play and
avoiding excessive fouls can contribute to better results. However, the
presence of outliers might indicate that some teams achieve success
despite committing more fouls, possibly due to other strengths or
tactical considerations.</p>
<p>Yellow and Red Cards vs Points: Similar to fouls, the correlation
between yellow and red cards and points also suggests that teams with
better disciplinary records tend to accumulate more points. This might
reflect a more composed and controlled approach to the game,
contributing to a team's overall performance.</p>
<p>Total Shots vs Points: The direct correlation observed between total
shots and points reinforces the idea that teams with a higher volume of
shots tend to secure more points. This indicates an offensive-minded
strategy, where creating a larger number of scoring opportunities is
linked to achieving better results.</p>
<p>Total Shots on Target vs Points: The correlation between total shots
on target and points reaffirms the importance of shot accuracy. Teams
that consistently place shots on target are more likely to convert those
chances into goals, resulting in higher point totals and better league
standings.</p>
<p>Percentage of Shots Scored vs Points: The connection between shot
efficiency, as represented by the percentage of shots scored, and points
emphasizes the strategic value of converting chances into goals. Teams
with a higher percentage of shots scored are more effective in
capitalizing on their opportunities, leading to better point
accumulation.</p>
<p>These trends can help in understanding the tactical priorities and
strategies that contribute to achieving favorable outcomes over the
analyzed seasons. Remember that while correlations are observed, they
don't always imply causation, and multiple factors could be at play in
determining a team's performance.</p>
</section>
<section
id="scatterplots-of-mean-pts-for-every-team-vs-mean-factors-for-every-team-from-seasons-2011-2020"
class="cell markdown" id="K2lSLcaxFznX">
<h3>Scatterplots of Mean Pts For Every Team vs. Mean Factors For Every
Team from Seasons 2011-2020</h3>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="gaU3QNH7_P-m" data-outputId="d4da4d46-7f5c-4ef5-8cfe-3f982843a538">
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">### Scatterplots of Mean Pts For Every Team vs. Mean Factors For Every Team from Seasons 2011-2020</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by &#39;Team&#39; and compute the means</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>grouped_means <span class="op">=</span> complete_data.groupby([<span class="st">&#39;Team&#39;</span>]).mean().reset_index()</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># List of columns to plot</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>columns_to_plot <span class="op">=</span> [<span class="st">&#39;GF&#39;</span>, <span class="st">&#39;GA&#39;</span>, <span class="st">&#39;GD&#39;</span>, <span class="st">&#39;CornerKicks&#39;</span>, <span class="st">&#39;Fouls&#39;</span>, <span class="st">&#39;YellowCard&#39;</span>, <span class="st">&#39;RedCard&#39;</span>, <span class="st">&#39;TotalShots&#39;</span>, <span class="st">&#39;TotalShotsOnTarget&#39;</span>, <span class="st">&#39;PercentShotsScored&#39;</span>]</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the number of rows required to plot all columns (3 columns in each row)</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>num_rows <span class="op">=</span> (<span class="bu">len</span>(columns_to_plot) <span class="op">+</span> <span class="dv">2</span>) <span class="op">//</span> <span class="dv">3</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a single figure and multiple subplots</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(num_rows, <span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">6</span> <span class="op">*</span> num_rows))</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Flatten the axes object to iterate easily</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> axes.ravel()</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Iterate over each column in columns_to_plot to create scatter plots against &#39;Pts&#39; for each group</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, (column, ax) <span class="kw">in</span> <span class="bu">enumerate</span>(<span class="bu">zip</span>(columns_to_plot, axes), <span class="dv">1</span>):</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Plotting</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>    ax.scatter(grouped_means[column], grouped_means[<span class="st">&#39;Pts&#39;</span>], label<span class="op">=</span>column, alpha<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, team <span class="kw">in</span> <span class="bu">enumerate</span>(grouped_means[<span class="st">&#39;Team&#39;</span>]):</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>        ax.annotate(team, (grouped_means[column][i], grouped_means[<span class="st">&#39;Pts&#39;</span>][i]), fontsize<span class="op">=</span><span class="dv">8</span>, alpha<span class="op">=</span><span class="fl">0.6</span>, ha<span class="op">=</span><span class="st">&#39;center&#39;</span>)</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Regression line computation using statsmodels</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>    X <span class="op">=</span> sm.add_constant(grouped_means[column])</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>    model <span class="op">=</span> sm.OLS(grouped_means[<span class="st">&#39;Pts&#39;</span>], X).fit()</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>    ax.plot(grouped_means[column], model.predict(X), color<span class="op">=</span><span class="st">&#39;red&#39;</span>)  <span class="co"># plot regression line</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>    ax.text(<span class="fl">0.1</span>, <span class="fl">0.9</span>, <span class="ss">f&#39;y = </span><span class="sc">{</span>model<span class="sc">.</span>params[column]<span class="sc">:.2f}</span><span class="ss">x + </span><span class="sc">{</span>model<span class="sc">.</span>params[<span class="st">&quot;const&quot;</span>]<span class="sc">:.2f}</span><span class="ss">&#39;</span>, transform<span class="op">=</span>ax.transAxes, color<span class="op">=</span><span class="st">&quot;red&quot;</span>)  <span class="co"># display equation</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>    ax.text(<span class="fl">0.1</span>, <span class="fl">0.8</span>, <span class="ss">f&#39;p-value: </span><span class="sc">{</span>model<span class="sc">.</span>pvalues[column]<span class="sc">:.5f}</span><span class="ss">&#39;</span>, transform<span class="op">=</span>ax.transAxes, color<span class="op">=</span><span class="st">&quot;blue&quot;</span>)  <span class="co"># display p-value</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>    ax.set_title(<span class="ss">f&quot;</span><span class="sc">{</span>idx<span class="sc">}</span><span class="ss">. Mean </span><span class="sc">{</span>column<span class="sc">}</span><span class="ss"> vs Mean Points by Team From 2011-2020&quot;</span>)</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>    ax.set_xlabel(<span class="ss">f&quot;</span><span class="sc">{</span>column<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>    ax.set_ylabel(<span class="st">&quot;Points&quot;</span>)</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>    ax.legend()</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>    ax.grid(<span class="va">True</span>)</span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Hide any remaining unused subplots (if any)</span></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ax <span class="kw">in</span> axes[<span class="bu">len</span>(columns_to_plot):]:</span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>    ax.axis(<span class="st">&#39;off&#39;</span>)</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_454c29ac402f4845b8cd84663e0edada/dfcb8e4f7af93a0d6c2c1a831815d6821f413188.png" /></p>
</div>
</div>
<div class="cell markdown" id="_gig0T2hi9wC">
<p>###Analysis Of Mean Pts For Every Team vs. Mean Factors For Every
Team from Seasons 2011-2020</p>
<p>Mean Goals Scored vs Mean Points: The correlation between mean goals
scored and mean points reaffirms the previously observed trend that
teams with higher goal-scoring abilities tend to accumulate more points.
The positioning of Manchester City at the top further emphasizes their
consistent success and strong offensive performance over the 10-year
span.</p>
<p>Mean Goals Conceded vs Mean Points: The negative correlation between
mean goals conceded and mean points aligns with the understanding that
teams with better defensive records tend to achieve higher point totals.
Manchester City's presence at the top end underscores their overall
defensive stability and strong point accumulation.</p>
<p>Mean Goal Difference vs Mean Points: The direct correlation between
mean goal difference and mean points confirms the trend that teams with
better goal differences, reflecting a balanced offensive and defensive
performance, tend to be more successful. This relationship supports the
notion that a well-rounded team has a higher chance of achieving
success.</p>
<p>Mean Corner Kicks vs Mean Points: The correlation between mean corner
kicks and mean points suggests that teams generating more corner kicks
tend to secure more points. Manchester City's strong performance in both
categories highlights their proactive approach to attacking set pieces,
contributing to their success.</p>
<p>Mean Fouls vs Mean Points: The general trend of teams with fewer mean
fouls achieving better mean points is in line with the understanding
that disciplined play is linked to higher success. Manchester City's
outlier position indicates that their style of play may involve more
fouls, yet their overall success remains unaffected.</p>
<p>Mean Yellow Cards vs Mean Points: The negative slope observed between
mean yellow cards and mean points suggests that teams with fewer yellow
cards tend to achieve higher points. However, the presence of outliers,
including successful teams with more yellow cards, indicates that other
factors might mitigate the impact of disciplinary actions.</p>
<p>Mean Red Cards vs Mean Points: Similar to mean yellow cards, the
trend of fewer mean red cards correlating with higher mean points is
observed. While a disciplined approach is generally beneficial,
exceptions exist where successful teams have received more red
cards.</p>
<p>Mean Total Shots vs Mean Points: The direct correlation between mean
total shots and mean points reinforces the notion that teams frequently
generating scoring opportunities tend to accumulate more points. This
emphasizes the importance of attacking intent in achieving favorable
results.</p>
<p>Mean Total Shots on Target vs Mean Points: The trend of higher mean
total shots on target being associated with better mean points aligns
with the idea that shot accuracy is crucial for converting opportunities
into goals. Outliers like Bolton indicate that other factors can impact
point accumulation.</p>
<p>Mean Percentage of Shots Scored vs Mean Points: The general
correlation between mean percentage of shots scored and mean points
underscores the tactical significance of shot efficiency. While there's
a trend that better shot conversion leads to higher point totals,
exceptions like Reading highlight the complexity of factors affecting
team success.</p>
<p>These trends contribute to a better understanding of the strategic
priorities that contribute to achieving strong outcomes in the Premier
League. Keep in mind that while these correlations are present, other
contextual factors can also play a role in team performance.</p>
</div>
<section id="for-more-information-about-playing-styles-and-techniques"
class="cell markdown" id="e115ePfXKszf">
<h3>FOR MORE INFORMATION ABOUT PLAYING STYLES AND TECHNIQUES:</h3>
<p><a
href="https://www.statsperform.com/resource/stats-playing-styles-introduction/"
class="uri">https://www.statsperform.com/resource/stats-playing-styles-introduction/</a></p>
</section>
<div class="cell markdown" id="FTjmZQ0sjk_c">
<p>###Model: Analysis, Hypothesis Testing, &amp; ML</p>
<p>Although above plots with regression line shows good linear
relationship between the individual features and points, we wanted to
determine if it’s suitable for the multivariate linear regression by
looking at the correlation between the variables we have. The matrix
below provided higher than expected correlation between the variable but
the result was understandable. For example, Fouls, YellowCard, and
RedCard are correlated to each other but not with other variables such
as GF, GA, or TotalShots. Looking at this closely, Fouls and YellowCard
had stong correlation which is predictable since the more fouls we
observe, the likelihood of yellow cards will increase showing positive
correlation of the two variables. We could also observe how GF has
positive correlation with CornerKicks from increasing chance of set
piece goals. Given the correlation matrix, we are able to determine that
a lot of variables are correlated together, however, we will test a
multivariate linear regression model below variables because GF, GD,
TotalShots have practical significance in determining the performance of
the clubs in the league. Here is the link to help you interpret the
heatmap of correlation matrix: <a
href="https://www.statology.org/how-to-read-a-correlation-matrix/"
class="uri">https://www.statology.org/how-to-read-a-correlation-matrix/</a></p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="BwBP1eG6GIdc" data-outputId="3236b36b-4366-4417-ce35-c5ca7140451e">
<div class="sourceCode" id="cb18"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the correlation matrix</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>corr_matrix <span class="op">=</span> complete_data.corr()</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the figure size</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">10</span>))</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw the heatmap</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>sns.heatmap(corr_matrix, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">&#39;coolwarm&#39;</span>, linewidths<span class="op">=</span><span class="fl">0.5</span>, fmt<span class="op">=</span><span class="st">&quot;.2f&quot;</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Rotate y-axis labels for better readability</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>plt.yticks(rotation<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stderr">
<pre><code>&lt;ipython-input-207-970ce6a49304&gt;:5: FutureWarning: The default value of numeric_only in DataFrame.corr is deprecated. In a future version, it will default to False. Select only valid columns or specify the value of numeric_only to silence this warning.
  corr_matrix = complete_data.corr()
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_454c29ac402f4845b8cd84663e0edada/35f7795c941f7431b3ba0841234df776e47e7702.png" /></p>
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:452}"
id="eYMHLFuTkBO8" data-outputId="a8ee31e8-b597-4d41-9f33-ed7eeb8d088f">
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate linear regression model using statsmdel OLS</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>stats <span class="op">=</span> statsmodels.formula.api.ols(formula<span class="op">=</span><span class="st">&quot;Pts ~ GF&quot;</span>, data<span class="op">=</span>complete_data).fit()</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the summary</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>stats.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="13">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>           <td>Pts</td>       <th>  R-squared:         </th> <td>   0.830</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.829</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   965.8</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 20 Aug 2023</td> <th>  Prob (F-statistic):</th> <td>4.38e-78</td>
</tr>
<tr>
  <th>Time:</th>                 <td>12:29:16</td>     <th>  Log-Likelihood:    </th> <td> -677.90</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   200</td>      <th>  AIC:               </th> <td>   1360.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   198</td>      <th>  BIC:               </th> <td>   1366.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th> <td>    2.4506</td> <td>    1.684</td> <td>    1.455</td> <td> 0.147</td> <td>   -0.870</td> <td>    5.771</td>
</tr>
<tr>
  <th>GF</th>        <td>    0.9560</td> <td>    0.031</td> <td>   31.077</td> <td> 0.000</td> <td>    0.895</td> <td>    1.017</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td> 0.203</td> <th>  Durbin-Watson:     </th> <td>   2.018</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.903</td> <th>  Jarque-Bera (JB):  </th> <td>   0.355</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.026</td> <th>  Prob(JB):          </th> <td>   0.837</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 2.800</td> <th>  Cond. No.          </th> <td>    181.</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:452}"
id="mqeK1BZdJGzG" data-outputId="f5323813-ffb3-4a60-ae75-3582ca6ac0b0">
<div class="sourceCode" id="cb21"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate linear regression model using statsmdel OLS</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>stats1 <span class="op">=</span> statsmodels.formula.api.ols(formula<span class="op">=</span><span class="st">&quot;Pts ~ GA&quot;</span>, data<span class="op">=</span>complete_data).fit()</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the summary</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>stats1.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="14">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>           <td>Pts</td>       <th>  R-squared:         </th> <td>   0.707</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.705</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   476.8</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 20 Aug 2023</td> <th>  Prob (F-statistic):</th> <td>1.28e-54</td>
</tr>
<tr>
  <th>Time:</th>                 <td>12:29:18</td>     <th>  Log-Likelihood:    </th> <td> -732.40</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   200</td>      <th>  AIC:               </th> <td>   1469.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   198</td>      <th>  BIC:               </th> <td>   1475.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th> <td>  111.9906</td> <td>    2.813</td> <td>   39.806</td> <td> 0.000</td> <td>  106.442</td> <td>  117.539</td>
</tr>
<tr>
  <th>GA</th>        <td>   -1.1439</td> <td>    0.052</td> <td>  -21.837</td> <td> 0.000</td> <td>   -1.247</td> <td>   -1.041</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td> 2.202</td> <th>  Durbin-Watson:     </th> <td>   1.744</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.333</td> <th>  Jarque-Bera (JB):  </th> <td>   2.197</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.251</td> <th>  Prob(JB):          </th> <td>   0.333</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 2.896</td> <th>  Cond. No.          </th> <td>    226.</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:486}"
id="g_AvSZB7jsq8" data-outputId="115f34f4-6fda-4d36-ce7e-a68c05299eca">
<div class="sourceCode" id="cb22"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate linear regression model using statsmdel OLS</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>stats2 <span class="op">=</span> statsmodels.formula.api.ols(formula<span class="op">=</span><span class="st">&quot;Pts ~ CornerKicks&quot;</span>, data<span class="op">=</span>complete_data).fit()</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the summary</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>stats2.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="15">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>           <td>Pts</td>       <th>  R-squared:         </th> <td>   0.510</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.508</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   206.2</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 20 Aug 2023</td> <th>  Prob (F-statistic):</th> <td>1.63e-32</td>
</tr>
<tr>
  <th>Time:</th>                 <td>12:29:20</td>     <th>  Log-Likelihood:    </th> <td> -783.66</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   200</td>      <th>  AIC:               </th> <td>   1571.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   198</td>      <th>  BIC:               </th> <td>   1578.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
       <td></td>          <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>   <td>  -18.5494</td> <td>    5.010</td> <td>   -3.702</td> <td> 0.000</td> <td>  -28.430</td> <td>   -8.669</td>
</tr>
<tr>
  <th>CornerKicks</th> <td>    0.3468</td> <td>    0.024</td> <td>   14.360</td> <td> 0.000</td> <td>    0.299</td> <td>    0.394</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td> 2.552</td> <th>  Durbin-Watson:     </th> <td>   1.954</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.279</td> <th>  Jarque-Bera (JB):  </th> <td>   2.151</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.222</td> <th>  Prob(JB):          </th> <td>   0.341</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 3.246</td> <th>  Cond. No.          </th> <td>1.20e+03</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 1.2e+03. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:486}"
id="KvjHRjVWj0Cp" data-outputId="fd1a33f0-c181-4bb6-c70d-d5b9b786601f">
<div class="sourceCode" id="cb23"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate linear regression model using statsmdel OLS</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>stats3 <span class="op">=</span> statsmodels.formula.api.ols(formula<span class="op">=</span><span class="st">&quot;Pts ~ Fouls&quot;</span>, data<span class="op">=</span>complete_data).fit()</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the summary</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>stats3.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="16">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>           <td>Pts</td>       <th>  R-squared:         </th> <td>   0.070</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.066</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   14.99</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 20 Aug 2023</td> <th>  Prob (F-statistic):</th> <td>0.000147</td>
</tr>
<tr>
  <th>Time:</th>                 <td>12:29:22</td>     <th>  Log-Likelihood:    </th> <td> -847.72</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   200</td>      <th>  AIC:               </th> <td>   1699.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   198</td>      <th>  BIC:               </th> <td>   1706.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th> <td>   99.7441</td> <td>   12.307</td> <td>    8.105</td> <td> 0.000</td> <td>   75.475</td> <td>  124.013</td>
</tr>
<tr>
  <th>Fouls</th>     <td>   -0.1162</td> <td>    0.030</td> <td>   -3.872</td> <td> 0.000</td> <td>   -0.175</td> <td>   -0.057</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td> 7.850</td> <th>  Durbin-Watson:     </th> <td>   1.621</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.020</td> <th>  Jarque-Bera (JB):  </th> <td>   7.224</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.403</td> <th>  Prob(JB):          </th> <td>  0.0270</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 2.533</td> <th>  Cond. No.          </th> <td>4.23e+03</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 4.23e+03. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:452}"
id="MaHaDlNbj6qE" data-outputId="810ac7e1-aa66-4173-bb71-c9dc7f485e3f">
<div class="sourceCode" id="cb24"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate linear regression model using statsmdel OLS</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>stats4 <span class="op">=</span> statsmodels.formula.api.ols(formula<span class="op">=</span><span class="st">&quot;Pts ~ YellowCard&quot;</span>, data<span class="op">=</span>complete_data).fit()</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the summary</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>stats4.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="18">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>           <td>Pts</td>       <th>  R-squared:         </th> <td>   0.046</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.041</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   9.496</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 20 Aug 2023</td> <th>  Prob (F-statistic):</th>  <td>0.00235</td>
</tr>
<tr>
  <th>Time:</th>                 <td>12:29:33</td>     <th>  Log-Likelihood:    </th> <td> -850.34</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   200</td>      <th>  AIC:               </th> <td>   1705.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   198</td>      <th>  BIC:               </th> <td>   1711.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
       <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>  <td>   75.1675</td> <td>    7.512</td> <td>   10.006</td> <td> 0.000</td> <td>   60.353</td> <td>   89.982</td>
</tr>
<tr>
  <th>YellowCard</th> <td>   -0.3689</td> <td>    0.120</td> <td>   -3.081</td> <td> 0.002</td> <td>   -0.605</td> <td>   -0.133</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>11.220</td> <th>  Durbin-Watson:     </th> <td>   1.616</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.004</td> <th>  Jarque-Bera (JB):  </th> <td>  12.011</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.581</td> <th>  Prob(JB):          </th> <td> 0.00247</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 2.702</td> <th>  Cond. No.          </th> <td>    390.</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:452}"
id="Q5uzQ_ePkGMI" data-outputId="851bc21b-6ecc-4167-eb85-9c16ada53dd7">
<div class="sourceCode" id="cb25"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate linear regression model using statsmdel OLS</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>stats5 <span class="op">=</span> statsmodels.formula.api.ols(formula<span class="op">=</span><span class="st">&quot;Pts ~ RedCard&quot;</span>, data<span class="op">=</span>complete_data).fit()</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the summary</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>stats5.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="19">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>           <td>Pts</td>       <th>  R-squared:         </th> <td>   0.012</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.007</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   2.388</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 20 Aug 2023</td> <th>  Prob (F-statistic):</th>  <td> 0.124</td> 
</tr>
<tr>
  <th>Time:</th>                 <td>12:29:37</td>     <th>  Log-Likelihood:    </th> <td> -853.82</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   200</td>      <th>  AIC:               </th> <td>   1712.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   198</td>      <th>  BIC:               </th> <td>   1718.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th> <td>   55.2518</td> <td>    2.260</td> <td>   24.445</td> <td> 0.000</td> <td>   50.795</td> <td>   59.709</td>
</tr>
<tr>
  <th>RedCard</th>   <td>   -1.0981</td> <td>    0.711</td> <td>   -1.545</td> <td> 0.124</td> <td>   -2.499</td> <td>    0.303</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>11.792</td> <th>  Durbin-Watson:     </th> <td>   1.638</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.003</td> <th>  Jarque-Bera (JB):  </th> <td>  12.784</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.605</td> <th>  Prob(JB):          </th> <td> 0.00168</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 2.734</td> <th>  Cond. No.          </th> <td>    6.27</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:486}"
id="KBekq8tjkKHU" data-outputId="d212da43-4259-4f54-868b-b7d7ad85d8c5">
<div class="sourceCode" id="cb26"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate linear regression model using statsmdel OLS</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>stats6 <span class="op">=</span> statsmodels.formula.api.ols(formula<span class="op">=</span><span class="st">&quot;Pts ~ TotalShots&quot;</span>, data<span class="op">=</span>complete_data).fit()</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the summary</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>stats6.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="20">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>           <td>Pts</td>       <th>  R-squared:         </th> <td>   0.611</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.609</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   311.6</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 20 Aug 2023</td> <th>  Prob (F-statistic):</th> <td>1.64e-42</td>
</tr>
<tr>
  <th>Time:</th>                 <td>12:29:41</td>     <th>  Log-Likelihood:    </th> <td> -760.49</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   200</td>      <th>  AIC:               </th> <td>   1525.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   198</td>      <th>  BIC:               </th> <td>   1532.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
       <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>  <td>  -22.5517</td> <td>    4.311</td> <td>   -5.231</td> <td> 0.000</td> <td>  -31.053</td> <td>  -14.050</td>
</tr>
<tr>
  <th>TotalShots</th> <td>    0.1549</td> <td>    0.009</td> <td>   17.652</td> <td> 0.000</td> <td>    0.138</td> <td>    0.172</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td> 6.095</td> <th>  Durbin-Watson:     </th> <td>   1.957</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.047</td> <th>  Jarque-Bera (JB):  </th> <td>   5.805</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.356</td> <th>  Prob(JB):          </th> <td>  0.0549</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 3.434</td> <th>  Cond. No.          </th> <td>2.75e+03</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 2.75e+03. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:452}"
id="-nGKpLi2kQa0" data-outputId="65eb9fa8-7e1b-45bf-e1c9-e4df761fa693">
<div class="sourceCode" id="cb27"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate linear regression model using statsmdel OLS</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>stats7 <span class="op">=</span> statsmodels.formula.api.ols(formula<span class="op">=</span><span class="st">&quot;Pts ~ TotalShotsOnTarget&quot;</span>, data<span class="op">=</span>complete_data).fit()</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the summary</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>stats7.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="21">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>           <td>Pts</td>       <th>  R-squared:         </th> <td>   0.288</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.284</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   80.10</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 20 Aug 2023</td> <th>  Prob (F-statistic):</th> <td>2.59e-16</td>
</tr>
<tr>
  <th>Time:</th>                 <td>12:29:44</td>     <th>  Log-Likelihood:    </th> <td> -821.05</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   200</td>      <th>  AIC:               </th> <td>   1646.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   198</td>      <th>  BIC:               </th> <td>   1653.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
           <td></td>             <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>          <td>   25.0790</td> <td>    3.218</td> <td>    7.794</td> <td> 0.000</td> <td>   18.734</td> <td>   31.424</td>
</tr>
<tr>
  <th>TotalShotsOnTarget</th> <td>    0.1396</td> <td>    0.016</td> <td>    8.950</td> <td> 0.000</td> <td>    0.109</td> <td>    0.170</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td> 7.301</td> <th>  Durbin-Watson:     </th> <td>   1.351</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.026</td> <th>  Jarque-Bera (JB):  </th> <td>   7.252</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.464</td> <th>  Prob(JB):          </th> <td>  0.0266</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 3.095</td> <th>  Cond. No.          </th> <td>    636.</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:452}"
id="qfT8DbHekYHR" data-outputId="29ac0428-c281-4bde-810e-d168b4f66c17">
<div class="sourceCode" id="cb28"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate linear regression model using statsmdel OLS</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>stats8 <span class="op">=</span> statsmodels.formula.api.ols(formula<span class="op">=</span><span class="st">&quot;Pts ~ PercentShotsScored&quot;</span>, data<span class="op">=</span>complete_data).fit()</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the summary</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>stats8.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="22">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>           <td>Pts</td>       <th>  R-squared:         </th> <td>   0.538</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.536</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   230.5</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 20 Aug 2023</td> <th>  Prob (F-statistic):</th> <td>4.93e-35</td>
</tr>
<tr>
  <th>Time:</th>                 <td>12:29:47</td>     <th>  Log-Likelihood:    </th> <td> -777.82</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   200</td>      <th>  AIC:               </th> <td>   1560.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   198</td>      <th>  BIC:               </th> <td>   1566.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
           <td></td>             <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>          <td>  -15.3248</td> <td>    4.534</td> <td>   -3.380</td> <td> 0.001</td> <td>  -24.266</td> <td>   -6.383</td>
</tr>
<tr>
  <th>PercentShotsScored</th> <td>  635.0815</td> <td>   41.831</td> <td>   15.182</td> <td> 0.000</td> <td>  552.590</td> <td>  717.573</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td> 0.071</td> <th>  Durbin-Watson:     </th> <td>   1.711</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.965</td> <th>  Jarque-Bera (JB):  </th> <td>   0.202</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.005</td> <th>  Prob(JB):          </th> <td>   0.904</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 2.845</td> <th>  Cond. No.          </th> <td>    50.3</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</div>
</div>
<section id="ols-regression-with-single-independent-variables"
class="cell markdown" id="fqoLFGxVsm8T">
<h3>OLS Regression With Single Independent Variables</h3>
<p>Overall, we can see from the output that certain factors are
considered to be statistically significant in affecting a team's
seasonal points. Factors like Goals Scored (GF), Goals Conceded (GA),
CornerKicks, Fouls, YellowCard, TotalShots, TotalShotsOnTarget,
PercentShotsScored, all had p-values below the default significance
value of 0.05. This implies that that they are statistically significant
in their effect as an independent variable on a Team Points (Pts)
dependent variable.</p>
<p>In contrast, the RedCard factor had a p-value of 0.124 which is above
the default significance value of 0.05. This implies that that the
RedCard is NOT statistically significant in its effect as an independent
variable on a Team Points (Pts) dependent variable. This is a bit
curious and could be due to the fact that there is a tradeoff between
behaviors that benefited the team (but resulted in a red card) and the
player being expelled from the game due to the red card.</p>
<p>The largest R-Squared value for the individual factors was 0.830 for
Goals Scored (GF). This implies that out of the factors we tested, the
Goals Scored had the greatest effect on variation in the total points
for a team in a given season.</p>
<p>Here is a link to help readers understand how to interpret OLS linear
regression analysis: <a
href="https://www.geeksforgeeks.org/interpreting-the-results-of-linear-regression-using-ols-summary/"
class="uri">https://www.geeksforgeeks.org/interpreting-the-results-of-linear-regression-using-ols-summary/</a>.</p>
</section>
<section
id="ols-regression-with-multiple-independent-variables-and-prediction-comparison"
class="cell markdown" id="6LSYa5gItZN6">
<h3>OLS Regression With Multiple Independent Variables and Prediction
Comparison</h3>
<p>We also wanted to observe how the variables above together would
contribute to accumulating points for the teams in the Primier Leauge.
By looking at the linear regression data below, variables such as GA,
TotalShots, and PercentShotsScored are statistically significant in this
linear regression model. The three statistically significant variables
are assumed to be correct where goals concieved can lower your chance of
winning the game and the number of shots team takes and higher the shot
efficiency will increase the chance of scoring a goal. These
observations are also supported by the value of their coefficient. The
negative coefficient for GA explains that each goal conceded would lower
the points while positive coefficient from the other two explains the
positive relationship to the output. However, there were higher than
expected p values such as GF and TotalShotsOnTarget which could indicate
that it may be just a variable that is not significant or there are
correlation between variables that we needed to check. Despite the
unexpected p values, 0.941 r squared value explains that 94.1% of the
variation can be explained with the independent variables in this model.
This is very large value and implies a great regressive model.</p>
<p>In addition, 0.941 is greater than the largest individual factor
R-squared value which was 0.83 for Goals Scored. This further suggests
that a more comprehensive model that includes multiple factors will lead
to a better fit.</p>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:636}"
id="SaPGo5WEuCcS" data-outputId="703e764c-95ce-44b8-97cf-7576b669bdac">
<div class="sourceCode" id="cb29"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate linear regression model using statsmdel OLS</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>stats9 <span class="op">=</span> statsmodels.formula.api.ols(formula<span class="op">=</span><span class="st">&quot;Pts ~ GF + GA + Fouls + YellowCard + RedCard + TotalShots + TotalShotsOnTarget + PercentShotsScored&quot;</span>, data<span class="op">=</span>complete_data).fit()</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the summary</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>stats9.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="18">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>           <td>Pts</td>       <th>  R-squared:         </th> <td>   0.941</td> 
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.938</td> 
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   380.0</td> 
</tr>
<tr>
  <th>Date:</th>             <td>Sun, 20 Aug 2023</td> <th>  Prob (F-statistic):</th> <td>6.35e-113</td>
</tr>
<tr>
  <th>Time:</th>                 <td>22:50:48</td>     <th>  Log-Likelihood:    </th> <td> -572.18</td> 
</tr>
<tr>
  <th>No. Observations:</th>      <td>   200</td>      <th>  AIC:               </th> <td>   1162.</td> 
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   191</td>      <th>  BIC:               </th> <td>   1192.</td> 
</tr>
<tr>
  <th>Df Model:</th>              <td>     8</td>      <th>                     </th>     <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    
</tr>
</table>
<table class="simpletable">
<tr>
           <td></td>             <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>          <td>   30.8839</td> <td>   10.755</td> <td>    2.872</td> <td> 0.005</td> <td>    9.670</td> <td>   52.098</td>
</tr>
<tr>
  <th>GF</th>                 <td>    0.2234</td> <td>    0.177</td> <td>    1.260</td> <td> 0.209</td> <td>   -0.126</td> <td>    0.573</td>
</tr>
<tr>
  <th>GA</th>                 <td>   -0.6010</td> <td>    0.033</td> <td>  -18.279</td> <td> 0.000</td> <td>   -0.666</td> <td>   -0.536</td>
</tr>
<tr>
  <th>Fouls</th>              <td>   -0.0172</td> <td>    0.010</td> <td>   -1.744</td> <td> 0.083</td> <td>   -0.037</td> <td>    0.002</td>
</tr>
<tr>
  <th>YellowCard</th>         <td>    0.0271</td> <td>    0.038</td> <td>    0.721</td> <td> 0.472</td> <td>   -0.047</td> <td>    0.101</td>
</tr>
<tr>
  <th>RedCard</th>            <td>    0.0585</td> <td>    0.183</td> <td>    0.320</td> <td> 0.750</td> <td>   -0.302</td> <td>    0.419</td>
</tr>
<tr>
  <th>TotalShots</th>         <td>    0.0479</td> <td>    0.021</td> <td>    2.304</td> <td> 0.022</td> <td>    0.007</td> <td>    0.089</td>
</tr>
<tr>
  <th>TotalShotsOnTarget</th> <td>   -0.0075</td> <td>    0.006</td> <td>   -1.193</td> <td> 0.234</td> <td>   -0.020</td> <td>    0.005</td>
</tr>
<tr>
  <th>PercentShotsScored</th> <td>  231.3256</td> <td>   89.116</td> <td>    2.596</td> <td> 0.010</td> <td>   55.548</td> <td>  407.103</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td> 3.034</td> <th>  Durbin-Watson:     </th> <td>   2.248</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.219</td> <th>  Jarque-Bera (JB):  </th> <td>   2.778</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.178</td> <th>  Prob(JB):          </th> <td>   0.249</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 3.454</td> <th>  Cond. No.          </th> <td>1.97e+05</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 1.97e+05. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>
</div>
<div class="cell markdown" id="2hjUW4GwJDP8">
<p>Below table will have comparison of actual points that each team has
earned vs the predicted points from the multivariate linear regression
model using OLS. Although variables possess higher than expected
correlation between others, we wanted to include those variables due to
the practical significance of variable, such as GF. As it turns out, the
outcome of the prediction model using multivariable was very close to
the actual data that we had which was interesting to observe.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="K4Cu_b_dJF-x" data-outputId="7f9e1cff-45d6-48d4-c05c-a5e661335b8d">
<div class="sourceCode" id="cb30"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy complete data from above</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>compare_data <span class="op">=</span> complete_data.copy()</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop unnecessary column</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>compare_data <span class="op">=</span> compare_data.drop([<span class="st">&#39;Pts&#39;</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the prediction data based on the multivariate linear regression model</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>prediction <span class="op">=</span> stats9.predict(compare_data)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy complete data for comparison of actual data vs prediction data</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> complete_data.copy()</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop unnecessary columns and add prediction data into comparison table</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> result.drop([<span class="st">&#39;Rk&#39;</span>,  <span class="st">&#39;MP&#39;</span>,   <span class="st">&#39;W&#39;</span>,   <span class="st">&#39;D&#39;</span>,   <span class="st">&#39;L&#39;</span>,   <span class="st">&#39;GF&#39;</span>,  <span class="st">&#39;GA&#39;</span>,  <span class="st">&#39;GD&#39;</span>, <span class="st">&#39;CornerKicks&#39;</span>,  <span class="st">&#39;Fouls&#39;</span>,  <span class="st">&#39;YellowCard&#39;</span>,  <span class="st">&#39;RedCard&#39;</span>,  <span class="st">&#39;TotalShots&#39;</span>,  <span class="st">&#39;TotalShotsOnTarget&#39;</span>,  <span class="st">&#39;PercentShotsScored&#39;</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>result[<span class="st">&#39;Predicted_Pts&#39;</span>] <span class="op">=</span> prediction</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> result.rename(columns<span class="op">=</span>{<span class="st">&#39;Pts&#39;</span>:<span class="st">&#39;Actual_Pts&#39;</span>})</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the comparison table</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result.head())</span></code></pre></div>
<div class="output stream stdout">
<pre><code>              Team  Season_End_Year  Actual_Pts  Predicted_Pts
0          Arsenal             2011          68      69.802765
1      Aston Villa             2011          48      45.210850
2  Birmingham City             2011          39      39.822635
3        Blackburn             2011          43      44.515867
4        Blackpool             2011          39      38.873528
</code></pre>
</div>
</div>
<div class="cell markdown" id="b_OS-Chfj_GL">
<p>In addition, we were able to plot points of actual data vs prediction
data to visualize the linear relation of the two. The plot below the
shows a good linear relation between the prediction and actual points by
forming well-observed positive sloped eclipse.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:607}"
id="S4XDU1IFQk7t" data-outputId="8a5a7bb2-64cb-423f-9a5a-9353339b8960">
<div class="sourceCode" id="cb32"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up the figure and axis</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter plot</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span><span class="st">&#39;Actual_Pts&#39;</span>, y<span class="op">=</span><span class="st">&#39;Predicted_Pts&#39;</span>, data<span class="op">=</span>result, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a line of perfect prediction</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>max_pts <span class="op">=</span> <span class="bu">max</span>(result[<span class="st">&#39;Actual_Pts&#39;</span>].<span class="bu">max</span>(), result[<span class="st">&#39;Predicted_Pts&#39;</span>].<span class="bu">max</span>())</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>min_pts <span class="op">=</span> <span class="bu">min</span>(result[<span class="st">&#39;Actual_Pts&#39;</span>].<span class="bu">min</span>(), result[<span class="st">&#39;Predicted_Pts&#39;</span>].<span class="bu">min</span>())</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>plt.plot([min_pts, max_pts], [min_pts, max_pts], color<span class="op">=</span><span class="st">&#39;red&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>)</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Add title and labels</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Actual Points vs Predicted Points&#39;</span>)</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Actual Points&#39;</span>)</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Predicted Points&#39;</span>)</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_454c29ac402f4845b8cd84663e0edada/01259589923a0bd8bd5a0a2791bf258a960ff8e5.png" /></p>
</div>
</div>
<section id="interpretation-insight--policy-decision"
class="cell markdown" id="WDAB5pToxhmH">
<h2>Interpretation: Insight &amp; Policy Decision</h2>
<p>Overall, we can see that there are several factors that play a
significant role in either increasing or decreasing a Team's points at
the end of a season. Based on our OLS regression results run with the
formula "Pts ~ factor" for a given factor, we made the following
conclusions:</p>
<p>==&gt; Goals Scored (GF), Goals Conceded (GA), CornerKicks, Fouls,
YellowCard, TotalShots, TotalShotsOnTarget, PercentShotsScored, all have
p-values below 0.05 which implies that that they have a statistically
significant impact on Team Points (Pts). Goals Scored (GF) especially
appeared to have an impact on Team points (Pts) because it had the
highest R-Squared value of 0.830.</p>
<p>==&gt; the RedCard factor had a p-value of 0.124 which is greater
than 0.05 implying that it is NOT statistically significant in its
effect on Team Points (Pts).</p>
<p>Looking at our correlation graph, we can see that:</p>
<p>==&gt; Factors like Goals Scored (+0.91), GD (+0.97), Corner Kicks
(+0.71), TotalShots (+0.78), TotalShotsOnTarget (0.54), and
PercentShotsScored (+0.73) had positive correlations with Pts.</p>
<p>==&gt; Factors like Goals Conceded (-0.84), Fouls (-0.26), and
YellowCard (-0.22) had negative correlations with Pts.</p>
<p>Looking forwards, we can use this information to isolate strategies
that clubs can focus on in order to increase their winning chance (based
on the points they can score). Focusing on strong striking abilities
will increase a club's ability to execute lots of shots on target which
will result in more goals scored, thus increasing total points.
Likewise, introducing measures to dissuade uneccesary bad behavior can
decrease the chance of receiving a foul or yellow card which appears to
result in more points.</p>
<p>Furthermore, future analyses could make use of additional statistical
techniques to further understanding of maximizing points in the EPL. One
such improvement could be to explore specific strategies and their
correlations between perceived negative and positive variables. For
example, on the surface, agressive plays could be seen as a positive as
they could increase the chances of scoring goals which would increase
points. However, agressive plays could also possibly increase the chance
of fouls which would decrease points. If we found an agressive play that
increased ShotsOnTarget but barely increased fouls, then that would be
ideal.</p>
<p>This can be acheived with techniques such as finding additional
variables that would not be correlated to each other to lower the
p-values of multivariate linear regression model or by analyzing more
intricate individual club's statistics.</p>
<p>In conclusion, we have determined what factors statistically
help/hurt a teams ability to score points in the EPL and have suggested
measures that can increase/lessen these factors.</p>
<p>While remaining in the Premier League can be lucrative it is not
easy. One must keep a club efficient enough to remain above the bottom 3
rankings of the EPL. To acheive this, proper data analytics (by going
through the stages of data collection, proccessing, hypothesis testing,
and interpretation) are crucial.</p>
<p><a
href="https://drive.google.com/file/d/15qGW2Zypikj4ehth09xCViibzTWZXTHV/view?usp=drive_link"
class="uri">https://drive.google.com/file/d/15qGW2Zypikj4ehth09xCViibzTWZXTHV/view?usp=drive_link</a>
<embed
src="vertopal_454c29ac402f4845b8cd84663e0edada/96a3ac45c4c7b8247dde0485ab7c15dcb9329df8.shtml" /></p>
</section>
</body>
</html>
